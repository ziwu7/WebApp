function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r=t.parcelRequire951b,n=r.register;n("40kHK",function(t,n){e(t.exports,"session",function(){return h}),e(t.exports,"user",function(){return p}),e(t.exports,"suppliesRequirement",function(){return b}),e(t.exports,"logistics",function(){return m}),e(t.exports,"hotel",function(){return y}),e(t.exports,"clinic",function(){return v}),e(t.exports,"donationRecipient",function(){return g}),e(t.exports,"factory",function(){return _}),e(t.exports,"area",function(){return w});var o=r("cNTzK"),i=r("9ASDM"),a=r("c6z8j"),s=r("2oesp"),l=r("5Xvq7"),u=r("bLFJY"),c=r("kgpqu"),d=r("9It5P"),f=r("5vDhE");r("6jIBr");let h=new o.Session,p=new i.UserModel,b=new a.SuppliesRequirementModel,m=new s.LogisticsModel,y=new l.HotelModel,v=new u.ClinicModel,g=new c.DonationRecipientModel,_=new d.FactoryModel,w=new f.AreaModel}),n("cNTzK",function(t,n){let o,i,a,s,l,u,c,d,f,h;e(t.exports,"Session",function(){return k});var p,b,m=r("N2Qqw"),y=r("2nE0J"),v=r("bvA4K"),g=r("dNQd8"),_=function(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0},w=function(e,t,r,n,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var s,l=n.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f=!1,h=r.length-1;h>=0;h--){var p={};for(var b in n)p[b]="access"===b?{}:n[b];for(var b in n.access)p.access[b]=n.access[b];p.addInitializer=function(e){if(f)throw TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var m=(0,r[h])("accessor"===l?{get:d.get,set:d.set}:d[u],p);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(s=a(m.get))&&(d.get=s),(s=a(m.set))&&(d.set=s),(s=a(m.init))&&o.unshift(s)}else(s=a(m))&&("field"===l?o.unshift(s):d[u]=s)}c&&Object.defineProperty(c,n.name,d),f=!0},S=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},P=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},T=function(e,t,r,n,o){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!o)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r};let k=(c=y.BaseModel,d=[],f=[],h=[],p=class extends c{get user(){return P(this,b,"f")}set user(e){T(this,b,e,"f")}constructor(){super(),b.set(this,(_(this,d),_(this,f,void 0))),_(this,h),(0,y.restore)(this,"session").then(()=>this.user||this.getProfile())}getProfile(){return S(this,void 0,void 0,function*(){try{let{body:e}=yield(0,g.service).get("/session");return this.user=e}catch(e){if(401!==e.status)throw e}})}sendSMSCode(e){return(0,g.service).post("/session/smsCode",{phone:e})}signIn(e,t){return S(this,void 0,void 0,function*(){let{body:r}=yield(0,g.service).post("/session",{phone:e,code:t});return this.user=r})}signOut(){return S(this,void 0,void 0,function*(){yield(0,g.service).delete("/session"),this.user=void 0,location.href="."})}hasRole(e){var t;return null===(t=this.user)||void 0===t?void 0:t.roles.includes(e)}upload(e,t){return S(this,void 0,void 0,function*(){e instanceof Blob||(e=yield(0,v.blobOf)(e+"")),t&&(e=new File([e],t));let r=new FormData;r.append("file",e);let{body:n}=yield(0,g.service).post("/file",r);return n.url})}},b=new WeakMap,(()=>{var e;let t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=c[Symbol.metadata])&&void 0!==e?e:null):void 0;o=[(0,y.persist)(),m.observable],i=[(0,y.toggle)("downloading")],a=[(0,y.toggle)("uploading")],s=[(0,y.toggle)("uploading")],l=[(0,y.toggle)("uploading")],u=[(0,y.toggle)("uploading")],w(p,null,o,{kind:"accessor",name:"user",static:!1,private:!1,access:{has:e=>"user"in e,get:e=>e.user,set:(e,t)=>{e.user=t}},metadata:t},f,h),w(p,null,i,{kind:"method",name:"getProfile",static:!1,private:!1,access:{has:e=>"getProfile"in e,get:e=>e.getProfile},metadata:t},null,d),w(p,null,a,{kind:"method",name:"sendSMSCode",static:!1,private:!1,access:{has:e=>"sendSMSCode"in e,get:e=>e.sendSMSCode},metadata:t},null,d),w(p,null,s,{kind:"method",name:"signIn",static:!1,private:!1,access:{has:e=>"signIn"in e,get:e=>e.signIn},metadata:t},null,d),w(p,null,l,{kind:"method",name:"signOut",static:!1,private:!1,access:{has:e=>"signOut"in e,get:e=>e.signOut},metadata:t},null,d),w(p,null,u,{kind:"method",name:"upload",static:!1,private:!1,access:{has:e=>"upload"in e,get:e=>e.upload},metadata:t},null,d),t&&Object.defineProperty(p,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t})})(),p)}),n("2nE0J",function(e,t){var n,o,i,a,s,l,u,c,d,f,h,p,b,m,y,v,g,_,w,S,P,T,k,R,O,j,E,C,x,q,I,W,z,A,L,M,F,B,D,$,H,N,U,Q,V,K,Y,J,Z,X,G,ee,et,er,en,eo,ei,ea,es,el,eu,ec,ed,ef,eh,ep,eb,em,ey,ev,eg,e_,ew,eS,eP,eT,ek,eR,eO,ej,eE,eC,ex,eq,eI,eW,ez,eA,eL,eM,eF,eB,eD,e$,eH,eN,eU,eQ,eV,eK,eY,eJ,eZ,eX,eG,e0,e1,e2,e3,e4,e8,e5,e9=r("WZMrE"),e6=r("hP8jl"),e7=r("99P5W"),te=r("N2Qqw"),tt=r("bvA4K"),tr=r("4Fv7u"),tn=r("knsEI"),to=r("iGCI6"),ti=r("hL0TW"),ta=r("h0SoY"),ts=r("6XzZW"),tl=r("8gF8W"),tu=r("1Q9DB"),tc=r("8Oe5U"),td=r("kPlRH"),tf=r("2iH1r"),th=r("7e0iO"),tp=r("cOq2H"),tb=r("9vpgc");function tm(e,t){return Object.keys(t).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})}),e}function ty(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var tv={},tg={};ty(tg,"toggle",function(){return tw}),ty(tg,"toggleNotification",function(){return tS}),ty(tg,"persist",function(){return tT}),ty(tg,"restore",function(){return tk}),ty(tg,"destroy",function(){return tR});var t_=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function tw(e){return function(t,r){return(0,e9._)(r),function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return t_(this,void 0,void 0,function(){var r;return(0,e6._)(this,function(o){switch(o.label){case 0:r=Reflect.get(this,e),Reflect.set(this,e,"number"!=typeof r||++r),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,t.apply(this,n)];case 2:return[2,o.sent()];case 3:return r=Reflect.get(this,e),Reflect.set(this,e,"number"==typeof r&&--r),[7];case 4:return[2]}})})}}}function tS(e){return function(t,r){return(0,e9._)(r),function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return t_(this,void 0,void 0,function(){var r,o;return(0,e6._)(this,function(i){switch(i.label){case 0:r=this,o=Notification.requestPermission().then(function(t){if("granted"===t)return new Notification("function"==typeof e?e(r):e)}),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,t.apply(this,n)];case 2:return[2,i.sent()];case 3:return o.then(function(e){return null==e?void 0:e.close()}),[7];case 4:return[2]}})})}}}var tP=new WeakMap;function tT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,r){(0,e9._)(t);var n=r.name;(0,r.addInitializer)(function(){var t=tP.get(this)||[];t.push(Object.assign(Object.assign({},e),{key:n.toString()})),tP.set(this,t)})}}function tk(e,t){return t_(this,void 0,void 0,function(){var r,n,o,i,a,s,l,u,c,d,f,h,p;return(0,e6._)(this,function(b){switch(b.label){case 0:return[4,tr];case 1:o=(n=b.sent()).get,i=n.set,a=tP.get(e)||[],s={},l=!0,u=!1,c=void 0,b.label=2;case 2:b.trys.push([2,7,8,9]),d=function(){var n,a,l,u,c,d,f;return(0,e6._)(this,function(p){switch(p.label){case 0:return a=(n=h.value).key,l=n.get,u=n.set,c="".concat(t,"-").concat(a),[4,o(c)];case 1:return d=p.sent(),null!=(f=null!==(r=null==l?void 0:l(d))&&void 0!==r?r:d)&&(Reflect.set(e,a,f),s[a]=f),(0,te.reaction)(function(){return e[a]},function(e){var t=null==u?void 0:u(e);return i(c,null!=t?t:(0,te.toJS)(e))}),[2]}})},f=a[Symbol.iterator](),b.label=3;case 3:if(l=(h=f.next()).done)return[3,6];return[5,(0,e7._)(d())];case 4:b.sent(),b.label=5;case 5:return l=!0,[3,3];case 6:return[3,9];case 7:return p=b.sent(),u=!0,c=p,[3,9];case 8:try{l||null==f.return||f.return()}finally{if(u)throw c}return[7];case 9:if((0,tt.isEmpty)(s))return[2];return console.group("Restored ".concat(t)),console.table(s),console.groupEnd(),[2]}})})}function tR(e,t){return t_(this,void 0,void 0,function(){var r,n,o,i,a,s,l,u,c,d;return(0,e6._)(this,function(f){switch(f.label){case 0:return[4,tr];case 1:r=f.sent().del,n=tP.get(e)||[],o=!0,i=!1,a=void 0,f.label=2;case 2:f.trys.push([2,7,8,9]),s=n[Symbol.iterator](),f.label=3;case 3:if(o=(l=s.next()).done)return[3,6];return u=l.value.key,c="".concat(t,"-").concat(u),[4,r(c)];case 4:f.sent(),f.label=5;case 5:return o=!0,[3,3];case 6:return[3,9];case 7:return d=f.sent(),i=!0,a=d,[3,9];case 8:try{o||null==s.return||s.return()}finally{if(i)throw a}return[7];case 9:return[2]}})})}tm(tv,{}),tm(tv,tg);var tO={};ty(tO,"BaseModel",function(){return tI}),ty(tO,"BaseListModel",function(){return tW});var tj=function(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0},tE=function(e,t,r,n,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var s,l=n.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f=!1,h=r.length-1;h>=0;h--){var p={};for(var b in n)p[b]="access"===b?{}:n[b];for(var b in n.access)p.access[b]=n.access[b];p.addInitializer=function(e){if(f)throw TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var m=(0,r[h])("accessor"===l?{get:d.get,set:d.set}:d[u],p);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(s=a(m.get))&&(d.get=s),(s=a(m.set))&&(d.set=s),(s=a(m.init))&&o.unshift(s)}else(s=a(m))&&("field"===l?o.unshift(s):d[u]=s)}c&&Object.defineProperty(c,n.name,d),f=!0},tC=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},tx=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},tq=function(e,t,r,n,o){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!o)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},tI=(u=[],c=[],d=[],f=[],h=[],n=function(){function e(){(0,to._)(this,e),o.set(this,(tj(this,u),tj(this,c,0))),i.set(this,(tj(this,d),tj(this,f,0))),tj(this,h)}return(0,ti._)(e,[{key:"downloading",get:function(){return tx(this,o,"f")},set:function(e){tq(this,o,e,"f")}},{key:"uploading",get:function(){return tx(this,i,"f")},set:function(e){tq(this,i,e,"f")}},{key:"clear",value:function(){this.downloading=this.uploading=0}}]),e}(),o=new WeakMap,i=new WeakMap,p="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0,a=[te.observable],s=[te.observable],l=[te.action],tE(n,null,a,{kind:"accessor",name:"downloading",static:!1,private:!1,access:{has:function(e){return"downloading"in e},get:function(e){return e.downloading},set:function(e,t){e.downloading=t}},metadata:p},c,d),tE(n,null,s,{kind:"accessor",name:"uploading",static:!1,private:!1,access:{has:function(e){return"uploading"in e},get:function(e){return e.uploading},set:function(e,t){e.uploading=t}},metadata:p},f,h),tE(n,null,l,{kind:"method",name:"clear",static:!1,private:!1,access:{has:function(e){return"clear"in e},get:function(e){return e.clear}},metadata:p},null,u),p&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:p}),n),tW=(S=[],P=[],T=[],b=function(e){(0,tl._)(r,e);var t=(0,tu._)(r);function r(){var e;return(0,to._)(this,r),e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty((0,tn._)(e),"indexKey",{enumerable:!0,configurable:!0,writable:!0,value:(tj((0,tn._)(e),S),"id")}),m.set((0,tn._)(e),tj((0,tn._)(e),P,{})),tj((0,tn._)(e),T),e}return(0,ti._)(r,[{key:"currentOne",get:function(){return tx(this,m,"f")},set:function(e){tq(this,m,e,"f")}},{key:"clearCurrent",value:function(){this.currentOne={}}},{key:"clear",value:function(){(0,ta._)((0,ts._)(r.prototype),"clear",this).call(this),this.clearCurrent()}},{key:"updateOne",value:function(e,t){return tC(this,void 0,void 0,function(){var r;return(0,e6._)(this,function(n){switch(n.label){case 0:return[4,t?this.client.patch("".concat(this.baseURI,"/").concat(t),e):this.client.post(this.baseURI,e)];case 1:return r=n.sent().body,[2,this.currentOne=r]}})})}},{key:"getOne",value:function(e){return tC(this,void 0,void 0,function(){var t;return(0,e6._)(this,function(r){switch(r.label){case 0:return[4,this.client.get("".concat(this.baseURI,"/").concat(e))];case 1:return t=r.sent().body,[2,this.currentOne=t]}})})}},{key:"deleteOne",value:function(e){return tC(this,void 0,void 0,function(){return(0,e6._)(this,function(t){switch(t.label){case 0:return[4,this.client.delete("".concat(this.baseURI,"/").concat(e))];case 1:return t.sent(),this.currentOne[this.indexKey]===e&&this.clearCurrent(),[2]}})})}}],[{key:"createNested",value:function(e){var t=new this;return t.baseURI=t.baseURI.replace(/:\w+/,e+""),t}}]),r}(tI),m=new WeakMap,R="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(k=tI[Symbol.metadata])&&void 0!==k?k:null):void 0,y=[te.observable],v=[te.action],g=[tw("uploading")],_=[tw("downloading")],w=[tw("uploading")],tE(b,null,y,{kind:"accessor",name:"currentOne",static:!1,private:!1,access:{has:function(e){return"currentOne"in e},get:function(e){return e.currentOne},set:function(e,t){e.currentOne=t}},metadata:R},P,T),tE(b,null,v,{kind:"method",name:"clearCurrent",static:!1,private:!1,access:{has:function(e){return"clearCurrent"in e},get:function(e){return e.clearCurrent}},metadata:R},null,S),tE(b,null,g,{kind:"method",name:"updateOne",static:!1,private:!1,access:{has:function(e){return"updateOne"in e},get:function(e){return e.updateOne}},metadata:R},null,S),tE(b,null,_,{kind:"method",name:"getOne",static:!1,private:!1,access:{has:function(e){return"getOne"in e},get:function(e){return e.getOne}},metadata:R},null,S),tE(b,null,w,{kind:"method",name:"deleteOne",static:!1,private:!1,access:{has:function(e){return"deleteOne"in e},get:function(e){return e.deleteOne}},metadata:R},null,S),R&&Object.defineProperty(b,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:R}),b),tz={};ty(tz,"ListModel",function(){return tD}),ty(tz,"Buffer",function(){return t$}),ty(tz,"Stream",function(){return tH});var tA=function(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0},tL=function(e,t,r,n,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var s,l=n.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f=!1,h=r.length-1;h>=0;h--){var p={};for(var b in n)p[b]="access"===b?{}:n[b];for(var b in n.access)p.access[b]=n.access[b];p.addInitializer=function(e){if(f)throw TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var m=(0,r[h])("accessor"===l?{get:d.get,set:d.set}:d[u],p);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(s=a(m.get))&&(d.get=s),(s=a(m.set))&&(d.set=s),(s=a(m.init))&&o.unshift(s)}else(s=a(m))&&("field"===l?o.unshift(s):d[u]=s)}c&&Object.defineProperty(c,n.name,d),f=!0},tM=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},tF=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},tB=function(e,t,r,n,o){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!o)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},tD=(Y=[],J=[],Z=[],X=[],G=[],ee=[],et=[],er=[],en=[],eo=[],ei=[],ea=[],es=[],O=function(e){(0,tl._)(r,e);var t=(0,tu._)(r);function r(){var e;return(0,to._)(this,r),e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),j.set((0,tn._)(e),(tA((0,tn._)(e),Y),tA((0,tn._)(e),J,0))),E.set((0,tn._)(e),(tA((0,tn._)(e),Z),tA((0,tn._)(e),X,10))),C.set((0,tn._)(e),(tA((0,tn._)(e),G),tA((0,tn._)(e),ee,{}))),x.set((0,tn._)(e),(tA((0,tn._)(e),et),tA((0,tn._)(e),er,void 0))),q.set((0,tn._)(e),(tA((0,tn._)(e),en),tA((0,tn._)(e),eo,[]))),I.set((0,tn._)(e),(tA((0,tn._)(e),ei),tA((0,tn._)(e),ea,{}))),tA((0,tn._)(e),es),e}return(0,ti._)(r,[{key:"pageIndex",get:function(){return tF(this,j,"f")},set:function(e){tB(this,j,e,"f")}},{key:"pageSize",get:function(){return tF(this,E,"f")},set:function(e){tB(this,E,e,"f")}},{key:"filter",get:function(){return tF(this,C,"f")},set:function(e){tB(this,C,e,"f")}},{key:"totalCount",get:function(){return tF(this,x,"f")},set:function(e){tB(this,x,e,"f")}},{key:"pageList",get:function(){return tF(this,q,"f")},set:function(e){tB(this,q,e,"f")}},{key:"currentPage",get:function(){return this.pageList[this.pageIndex-1]||[]}},{key:"pageCount",get:function(){return Math.ceil(this.totalCount/this.pageSize)||this.pageList.length}},{key:"allItems",get:function(){var e=(0,te.toJS)(this.pageList),t=this.pageSize,r=this.totalCount,n=(0,td._)(e).reverse().findIndex(function(e){return(null==e?void 0:e[0])!=null});return Array.from(e.slice(0,-n||1/0),function(e){return(null==e?void 0:e[0])?e:Array(t).fill({})}).flat().slice(0,r||0)}},{key:"noMore",get:function(){var e=this.totalCount;return this.allItems.length>=e}},{key:"statistic",get:function(){return tF(this,I,"f")},set:function(e){tB(this,I,e,"f")}},{key:"clearList",value:function(){this.pageIndex=0,this.pageSize=10,this.filter={},this.pageList=[],this.totalCount=void 0}},{key:"clear",value:function(){(0,ta._)((0,ts._)(r.prototype),"clear",this).call(this),this.clearList()}},{key:"restoreList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageIndex,r=void 0===t?this.pageIndex+1:t,n=e.pageSize,o=void 0===n?this.pageSize:n,i=e.allItems,a=void 0===i?this.allItems:i,s=e.totalCount;a.length&&(this.pageList=(0,tt.splitArray)(a,o),this.pageIndex=r,this.pageSize=o,this.totalCount=void 0===s?1/0:s)}},{key:"turnTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pageSize;return this.pageIndex=e,this.pageSize!==t&&(this.pageList=(0,tt.splitArray)(this.allItems,this.pageSize=t)),this}},{key:"loadNewPage",value:function(e,t,r){return tM(this,void 0,void 0,function(){var n,o,i,a,s;return(0,e6._)(this,function(l){switch(l.label){case 0:return[4,this.loadPage(e,t,r)];case 1:return o=(n=l.sent()).pageData,a=void 0===(i=n.totalCount)?1/0:i,this.pageSize=t,(s=(0,td._)(this.pageList))[e-1]=o,this.pageList=s,this.totalCount||(this.totalCount=a),[2,{pageData:o,totalCount:a}]}})})}},{key:"getList",value:function(){return tM(this,arguments,void 0,function(){var e,t,r,n,o=arguments;return(0,e6._)(this,function(i){switch(i.label){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:this.filter,t=o.length>1&&void 0!==o[1]?o[1]:this.pageIndex+1,r=o.length>2&&void 0!==o[2]?o[2]:this.pageSize,[4,this.loadNewPage(t,r,e)];case 1:return n=i.sent().pageData,this.filter=e,this.turnTo(t,r),[2,n]}})})}},{key:"refreshList",value:function(){var e=this.filter,t=this.pageSize;return this.clearList(),this.getList(e,1,t)}},{key:"getAll",value:function(){return tM(this,arguments,void 0,function(){var e,t,r=arguments;return(0,e6._)(this,function(n){switch(n.label){case 0:e=r.length>0&&void 0!==r[0]?r[0]:this.filter,t=r.length>1&&void 0!==r[1]?r[1]:this.pageSize,n.label=1;case 1:if(this.noMore)return[3,3];return[4,this.getList(e,void 0,t)];case 2:return n.sent(),[3,1];case 3:return[2,this.allItems]}})})}},{key:"countAll",value:function(e){return tM(this,arguments,void 0,function(e){var t,r,n,o,i=arguments;return(0,e6._)(this,function(a){switch(a.label){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:this.filter,r=i.length>2&&void 0!==i[2]?i[2]:this.pageSize,[4,this.getAll(t,r)];case 1:return n=a.sent(),o=Object.fromEntries(e.map(function(e){return[e,(0,tt.countBy)(n,e)]})),[2,this.statistic=o]}})})}},(0,tc._)({key:"indexOf"},"value",function(e){var t=this.indexKey;return this.allItems.findIndex(function(r){return r[t]===e})}),{key:"changeOne",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.pageIndex,o=this.allItems,i=this.totalCount,a=this.indexOf(t);a>-1&&this.restoreList({pageIndex:n,allItems:(0,td._)(o.slice(0,a)).concat([r?Object.assign(Object.assign({},o[a]),e):e],(0,td._)(o.slice(a+1))),totalCount:i})}},{key:"updateOne",value:function(e,t){var n=this,o=Object.create(null,{updateOne:{get:function(){return(0,ta._)((0,ts._)(r.prototype),"updateOne",n)}}});return tM(this,void 0,void 0,function(){return(0,e6._)(this,function(r){switch(r.label){case 0:return[4,o.updateOne.call(this,e,t)];case 1:return r.sent(),t&&this.changeOne(this.currentOne,t),[2,this.currentOne]}})})}},{key:"removeOne",value:function(e){return tM(this,void 0,void 0,function(){var t,r,n,o,i,a;return(0,e6._)(this,function(s){switch(s.label){case 0:return t=this,r=t.filter,n=t.pageIndex,o=t.allItems,i=this.indexOf(e),[4,this.loadPage(o.length+1,1,r)];case 1:return a=s.sent().pageData,[2,this.restoreList({pageIndex:n,allItems:(0,td._)(o.slice(0,i)).concat((0,td._)(o.slice(i+1)),(0,td._)(a)),totalCount:this.totalCount--})]}})})}},{key:"deleteOne",value:function(e){var t=this,n=Object.create(null,{deleteOne:{get:function(){return(0,ta._)((0,ts._)(r.prototype),"deleteOne",t)}}});return tM(this,void 0,void 0,function(){return(0,e6._)(this,function(t){switch(t.label){case 0:return[4,n.deleteOne.call(this,e)];case 1:return t.sent(),[4,this.removeOne(e)];case 2:return t.sent(),[2]}})})}}]),r}(tW),j=new WeakMap,E=new WeakMap,C=new WeakMap,x=new WeakMap,q=new WeakMap,I=new WeakMap,eu="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(el=tW[Symbol.metadata])&&void 0!==el?el:null):void 0,W=[te.observable],z=[te.observable],A=[te.observable],L=[te.observable],M=[te.observable],F=[te.computed],B=[te.computed],D=[te.computed],$=[te.computed],H=[te.observable],N=[te.action],U=[te.action],Q=[te.action],V=[tw("downloading")],K=[tw("uploading")],tL(O,null,W,{kind:"accessor",name:"pageIndex",static:!1,private:!1,access:{has:function(e){return"pageIndex"in e},get:function(e){return e.pageIndex},set:function(e,t){e.pageIndex=t}},metadata:eu},J,Z),tL(O,null,z,{kind:"accessor",name:"pageSize",static:!1,private:!1,access:{has:function(e){return"pageSize"in e},get:function(e){return e.pageSize},set:function(e,t){e.pageSize=t}},metadata:eu},X,G),tL(O,null,A,{kind:"accessor",name:"filter",static:!1,private:!1,access:{has:function(e){return"filter"in e},get:function(e){return e.filter},set:function(e,t){e.filter=t}},metadata:eu},ee,et),tL(O,null,L,{kind:"accessor",name:"totalCount",static:!1,private:!1,access:{has:function(e){return"totalCount"in e},get:function(e){return e.totalCount},set:function(e,t){e.totalCount=t}},metadata:eu},er,en),tL(O,null,M,{kind:"accessor",name:"pageList",static:!1,private:!1,access:{has:function(e){return"pageList"in e},get:function(e){return e.pageList},set:function(e,t){e.pageList=t}},metadata:eu},eo,ei),tL(O,null,F,{kind:"getter",name:"currentPage",static:!1,private:!1,access:{has:function(e){return"currentPage"in e},get:function(e){return e.currentPage}},metadata:eu},null,Y),tL(O,null,B,{kind:"getter",name:"pageCount",static:!1,private:!1,access:{has:function(e){return"pageCount"in e},get:function(e){return e.pageCount}},metadata:eu},null,Y),tL(O,null,D,{kind:"getter",name:"allItems",static:!1,private:!1,access:{has:function(e){return"allItems"in e},get:function(e){return e.allItems}},metadata:eu},null,Y),tL(O,null,$,{kind:"getter",name:"noMore",static:!1,private:!1,access:{has:function(e){return"noMore"in e},get:function(e){return e.noMore}},metadata:eu},null,Y),tL(O,null,H,{kind:"accessor",name:"statistic",static:!1,private:!1,access:{has:function(e){return"statistic"in e},get:function(e){return e.statistic},set:function(e,t){e.statistic=t}},metadata:eu},ea,es),tL(O,null,N,{kind:"method",name:"clearList",static:!1,private:!1,access:{has:function(e){return"clearList"in e},get:function(e){return e.clearList}},metadata:eu},null,Y),tL(O,null,U,{kind:"method",name:"restoreList",static:!1,private:!1,access:{has:function(e){return"restoreList"in e},get:function(e){return e.restoreList}},metadata:eu},null,Y),tL(O,null,Q,{kind:"method",name:"turnTo",static:!1,private:!1,access:{has:function(e){return"turnTo"in e},get:function(e){return e.turnTo}},metadata:eu},null,Y),tL(O,null,V,{kind:"method",name:"getList",static:!1,private:!1,access:{has:function(e){return"getList"in e},get:function(e){return e.getList}},metadata:eu},null,Y),tL(O,null,K,{kind:"method",name:"deleteOne",static:!1,private:!1,access:{has:function(e){return"deleteOne"in e},get:function(e){return e.deleteOne}},metadata:eu},null,Y),eu&&Object.defineProperty(O,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:eu}),O);function t$(e){var t,r,n,o;return r=[],t=function(e){(0,tl._)(n,e);var t=(0,tu._)(n);function n(){var e;return(0,to._)(this,n),e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty((0,tn._)(e),"pendingList",{enumerable:!0,configurable:!0,writable:!0,value:(tA((0,tn._)(e),r),[])}),e}return(0,ti._)(n,[{key:"clearList",value:function(){(0,ta._)((0,ts._)(n.prototype),"clearList",this).call(this),this.pendingList=[]}},{key:"clear",value:function(){(0,ta._)((0,ts._)(n.prototype),"clear",this).call(this),this.clearList()}},{key:"getList",value:function(){var e=this,t=Object.create(null,{getList:{get:function(){return(0,ta._)((0,ts._)(n.prototype),"getList",e)}}});return tM(this,arguments,void 0,function(){var e,r,n,o,i,a,s,l,u=arguments;return(0,e6._)(this,function(c){switch(c.label){case 0:if(e=this,r=u.length>0&&void 0!==u[0]?u[0]:this.filter,n=u.length>1&&void 0!==u[1]?u[1]:this.pageIndex+1,o=u.length>2&&void 0!==u[2]?u[2]:this.pageSize,i=n-1,!this.pendingList[i])return[3,2];return[4,this.pendingList[i]];case 1:return a=c.sent().pageData,this.turnTo(n,o),[2,a];case 2:if(!this.pageList[i])return[3,3];return this.turnTo(n,o),[3,5];case 3:return[4,t.getList.call(this,r,n,o)];case 4:s=c.sent(),c.label=5;case 5:return l=n+1,this.pendingList[l]=this.loadNewPage(l,o,r).then(function(t){return e.pendingList[l]=void 0,t}),[2,s]}})})}}]),n}(e),o="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(n=e[Symbol.metadata])&&void 0!==n?n:null):void 0,tL(t,null,[te.action,tw("downloading")],{kind:"method",name:"getList",static:!1,private:!1,access:{has:function(e){return"getList"in e},get:function(e){return e.getList}},metadata:o},null,r),o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),t}function tH(e){var t,r,n,o;return r=[],t=function(e){(0,tl._)(n,e);var t=(0,tu._)(n);function n(){var e;return(0,to._)(this,n),e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty((0,tn._)(e),"baseURI",{enumerable:!0,configurable:!0,writable:!0,value:(tA((0,tn._)(e),r),"")}),Object.defineProperty((0,tn._)(e),"stream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return(0,ti._)(n,[{key:"clearList",value:function(){(0,ta._)((0,ts._)(n.prototype),"clearList",this).call(this),this.stream=void 0}},{key:"clear",value:function(){(0,ta._)((0,ts._)(n.prototype),"clear",this).call(this),this.clearList()}},{key:"restoreList",value:function(){var e=this,t=Object.create(null,{restoreList:{get:function(){return(0,ta._)((0,ts._)(n.prototype),"restoreList",e)}}});return tM(this,arguments,void 0,function(){var e,r,n,o,i,a,s,l,u,c,d,f=arguments;return(0,e6._)(this,function(h){switch(h.label){case 0:if(n=void 0===(r=(e=f.length>0&&void 0!==f[0]?f[0]:{}).filter)?this.filter:r,i=void 0===(o=e.pageIndex)?this.pageIndex+1:o,s=void 0===(a=e.pageSize)?this.pageSize:a,u=void 0===(l=e.allItems)?this.allItems:l,d=void 0===(c=e.totalCount)?1/0:c,t.restoreList.call(this,{pageIndex:i,pageSize:s,allItems:u,totalCount:d}),!u.length)return[3,2];return[4,this.loadStream(n,u.length)];case 1:h.sent(),h.label=2;case 2:return[2]}})})}},{key:"loadStream",value:function(e,t){return tM(this,void 0,void 0,function(){var r,n,o,i,a,s;return(0,e6._)(this,function(l){switch(l.label){case 0:r=[],n=this.stream||(this.stream=this.openStream(e)),o=0,l.label=1;case 1:if(!(o<t))return[3,4];return[4,n.next()];case 2:if(a=(i=l.sent()).done,s=i.value,a)return[3,4];r.push(s),l.label=3;case 3:return o++,[3,1];case 4:return[2,r]}})})}},{key:"loadPage",value:function(e,t,r){return tM(this,void 0,void 0,function(){var n,o,i,a,s,l;return(0,e6._)(this,function(u){switch(u.label){case 0:return n=this,o=n.totalCount,i=n.allItems,a=e*t,s=(o?Math.min(o,a):a)-i.length,[4,this.loadStream(r,s)];case 1:return l=u.sent(),this.pageList=(0,tt.splitArray)((0,td._)(this.allItems).concat((0,td._)(l)),t),[2,{pageData:this.pageList[e-1]||[],totalCount:this.totalCount}]}})})}}]),n}(e),o="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(n=e[Symbol.metadata])&&void 0!==n?n:null):void 0,tL(t,null,[tw("downloading")],{kind:"method",name:"restoreList",static:!1,private:!1,access:{has:function(e){return"restoreList"in e},get:function(e){return e.restoreList}},metadata:o},null,r),o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),t}var tN={};ty(tN,"Downloader",function(){return t7});var tU={};ty(tU,"HTTPDownloadTask",function(){return t4});var tQ={};ty(tQ,"DownloadTask",function(){return t0});var tV=function(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0},tK=function(e,t,r,n,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var s,l=n.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f=!1,h=r.length-1;h>=0;h--){var p={};for(var b in n)p[b]="access"===b?{}:n[b];for(var b in n.access)p.access[b]=n.access[b];p.addInitializer=function(e){if(f)throw TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var m=(0,r[h])("accessor"===l?{get:d.get,set:d.set}:d[u],p);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(s=a(m.get))&&(d.get=s),(s=a(m.set))&&(d.set=s),(s=a(m.init))&&o.unshift(s)}else(s=a(m))&&("field"===l?o.unshift(s):d[u]=s)}c&&Object.defineProperty(c,n.name,d),f=!0},tY=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},tJ=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},tZ=function(e,t,r,n,o){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!o)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},tX=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},tG=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,o,(t=e[r](t)).done,t.value)})}}},t0=(eq=[],eI=[],eW=[],ez=[],eA=[],eL=[],eM=[],eF=[],eB=[],eD=[],e$=[],eH=[],eN=[],eU=[],eQ=[],eV=[],eK=[],eY=[],eJ=[],ec=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ec.nameOf(t);(0,to._)(this,e),ed.set(this,(tV(this,eq),tV(this,eI,""))),ef.set(this,(tV(this,eW),tV(this,ez,""))),eh.set(this,(tV(this,eA),tV(this,eL,""))),ep.set(this,(tV(this,eM),tV(this,eF,void 0))),eb.set(this,(tV(this,eB),tV(this,eD,0))),em.set(this,(tV(this,e$),tV(this,eH,0))),ey.set(this,(tV(this,eN),tV(this,eU,0))),ev.set(this,(tV(this,eQ),tV(this,eV,!1))),eg.set(this,(tV(this,eK),tV(this,eY,void 0))),Object.defineProperty(this,"stream",{enumerable:!0,configurable:!0,writable:!0,value:tV(this,eJ)}),this.path=t,this.name=r}return(0,ti._)(e,[{key:"id",get:function(){return tJ(this,ed,"f")},set:function(e){tZ(this,ed,e,"f")}},{key:"name",get:function(){return tJ(this,ef,"f")},set:function(e){tZ(this,ef,e,"f")}},{key:"path",get:function(){return tJ(this,eh,"f")},set:function(e){tZ(this,eh,e,"f")}},{key:"fsHandle",get:function(){return tJ(this,ep,"f")},set:function(e){tZ(this,ep,e,"f")}},{key:"total",get:function(){return tJ(this,eb,"f")},set:function(e){tZ(this,eb,e,"f")}},{key:"loaded",get:function(){return tJ(this,em,"f")},set:function(e){tZ(this,em,e,"f")}},{key:"percent",get:function(){return tJ(this,ey,"f")},set:function(e){tZ(this,ey,e,"f")}},{key:"executing",get:function(){return tJ(this,ev,"f")},set:function(e){tZ(this,ev,e,"f")}},{key:"options",get:function(){return tJ(this,eg,"f")},set:function(e){tZ(this,eg,e,"f")}},{key:"totalSize",get:function(){return new tt.ByteSize(this.total)}},{key:"loadedSize",get:function(){return new tt.ByteSize(this.loaded)}},{key:"toJSON",value:function(){var e=this.id,t=this.name,r=this.path,n=this.fsHandle,o=this.total,i=this.loaded,a=this.percent;return Object.assign({id:e,name:t,path:r,fsHandle:n,options:this.options},{total:o,loaded:i,percent:a})}},{key:"saveMeta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.buffer,Object.assign(this,tX(e,["buffer"])),e}},{key:"start",value:function(){return tY(this,arguments,void 0,function(){var e,t,r,n,o,i=arguments;return(0,e6._)(this,function(a){switch(a.label){case 0:return e=this,t=i.length>0&&void 0!==i[0]?i[0]:this.options,this.options=t,[4,tb];case 1:return n=(r=(0,tf._).apply(void 0,[a.sent().ReadableStream.from(this.loadStream(t)).tee(),2]))[0],o=r[1],tY(e,void 0,void 0,function(){var e,t,r,o,i,a,s;return(0,e6._)(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),i=!0,a=tG(n),l.label=1;case 1:return[4,a.next()];case 2:if(e=(s=l.sent()).done)return[3,4];o=s.value,i=!1,console.table(o),l.label=3;case 3:return i=!0,[3,1];case 4:return[3,11];case 5:return t={error:l.sent()},[3,11];case 6:if(l.trys.push([6,,9,10]),!(!i&&!e&&(r=a.return)))return[3,8];return[4,r.call(a)];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(t)throw t.error;return[7];case 10:return[7];case 11:return[2]}})}),[2,this.stream=o]}})})}},{key:"pause",value:function(){return tY(this,void 0,void 0,function(){return(0,e6._)(this,function(e){return this.executing=!1,[2]})})}},{key:"destroy",value:function(){return tY(this,void 0,void 0,function(){return(0,e6._)(this,function(e){switch(e.label){case 0:return[4,this.pause()];case 1:return e.sent(),[2,tR(this,this.id)]}})})}},{key:"onFinished",value:function(e){var t=this;return(0,te.reaction)(function(){return 100===t.percent},function(){return e(t)})}}],[{key:"nameOf",value:function(e){return decodeURI(new URL(e).pathname.split("/").filter(Boolean).at(-1))}}]),e}(),ed=new WeakMap,ef=new WeakMap,eh=new WeakMap,ep=new WeakMap,eb=new WeakMap,em=new WeakMap,ey=new WeakMap,ev=new WeakMap,eg=new WeakMap,eZ="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0,ew=[tT(),te.observable],eS=[tT(),te.observable],eP=[tT(),te.observable],eT=[tT(),(e_=te.observable).ref.bind(e_)],ek=[tT(),te.observable],eR=[tT(),te.observable],eO=[tT(),te.observable],ej=[te.observable],eE=[tT(),te.observable],eC=[te.computed],ex=[te.computed],tK(ec,null,ew,{kind:"accessor",name:"id",static:!1,private:!1,access:{has:function(e){return"id"in e},get:function(e){return e.id},set:function(e,t){e.id=t}},metadata:eZ},eI,eW),tK(ec,null,eS,{kind:"accessor",name:"name",static:!1,private:!1,access:{has:function(e){return"name"in e},get:function(e){return e.name},set:function(e,t){e.name=t}},metadata:eZ},ez,eA),tK(ec,null,eP,{kind:"accessor",name:"path",static:!1,private:!1,access:{has:function(e){return"path"in e},get:function(e){return e.path},set:function(e,t){e.path=t}},metadata:eZ},eL,eM),tK(ec,null,eT,{kind:"accessor",name:"fsHandle",static:!1,private:!1,access:{has:function(e){return"fsHandle"in e},get:function(e){return e.fsHandle},set:function(e,t){e.fsHandle=t}},metadata:eZ},eF,eB),tK(ec,null,ek,{kind:"accessor",name:"total",static:!1,private:!1,access:{has:function(e){return"total"in e},get:function(e){return e.total},set:function(e,t){e.total=t}},metadata:eZ},eD,e$),tK(ec,null,eR,{kind:"accessor",name:"loaded",static:!1,private:!1,access:{has:function(e){return"loaded"in e},get:function(e){return e.loaded},set:function(e,t){e.loaded=t}},metadata:eZ},eH,eN),tK(ec,null,eO,{kind:"accessor",name:"percent",static:!1,private:!1,access:{has:function(e){return"percent"in e},get:function(e){return e.percent},set:function(e,t){e.percent=t}},metadata:eZ},eU,eQ),tK(ec,null,ej,{kind:"accessor",name:"executing",static:!1,private:!1,access:{has:function(e){return"executing"in e},get:function(e){return e.executing},set:function(e,t){e.executing=t}},metadata:eZ},eV,eK),tK(ec,null,eE,{kind:"accessor",name:"options",static:!1,private:!1,access:{has:function(e){return"options"in e},get:function(e){return e.options},set:function(e,t){e.options=t}},metadata:eZ},eY,eJ),tK(ec,null,eC,{kind:"getter",name:"totalSize",static:!1,private:!1,access:{has:function(e){return"totalSize"in e},get:function(e){return e.totalSize}},metadata:eZ},null,eq),tK(ec,null,ex,{kind:"getter",name:"loadedSize",static:!1,private:!1,access:{has:function(e){return"loadedSize"in e},get:function(e){return e.loadedSize}},metadata:eZ},null,eq),eZ&&Object.defineProperty(ec,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:eZ}),ec),t1=function(e){return this instanceof t1?(this.v=e,this):new t1(e)},t2=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,o,(t=e[r](t)).done,t.value)})}}},t3=function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){o[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||s(e,t)})},t&&(n[e]=t(n[e])))}function s(e,t){try{var r;(r=o[e](t)).value instanceof t1?Promise.resolve(r.value.v).then(l,u):c(i[0][2],r)}catch(e){c(i[0][3],e)}}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},t4=function(e){(0,tl._)(r,e);var t=(0,tu._)(r);function r(e,n){var o;return(0,to._)(this,r),o=t.call(this,e,n),Object.defineProperty((0,tn._)(o),"client",{enumerable:!0,configurable:!0,writable:!0,value:new th.HTTPClient({responseType:"arraybuffer"})}),o.id="http-download-task-".concat(o.name),tk((0,tn._)(o),o.id),o}return(0,ti._)(r,[{key:"loadStream",value:function(e){return t3(this,arguments,function(){var t,r,n,o,i,a,s,l,u,c,d,f,h;return(0,e6._)(this,function(p){switch(p.label){case 0:i=this.path,a=t0.nameOf(i),p.label=1;case 1:if(p.trys.push([1,5,,7]),this.fsHandle)return[3,4];return s=this,[4,t1(tp)];case 2:return[4,t1.apply(void 0,[p.sent().showSaveFilePicker({suggestedName:a})])];case 3:s.fsHandle=p.sent(),p.label=4;case 4:return[3,7];case 5:return p.sent(),[4,t1(void 0)];case 6:return[2,p.sent()];case 7:return[4,t1(this.fsHandle.createWritable({keepExistingData:!0}))];case 8:l=p.sent(),u=this.client.download(i,Object.assign({range:[this.loaded]},e)),p.label=9;case 9:p.trys.push([9,,25,27]),this.executing=!0,p.label=10;case 10:p.trys.push([10,18,19,24]),c=!0,d=t2(u),p.label=11;case 11:return[4,t1(d.next())];case 12:if(t=(f=p.sent()).done)return[3,17];return o=f.value,c=!1,h=o,[4,t1(l.write({type:"write",position:this.loaded,data:h.buffer}))];case 13:return p.sent(),[4,t1(this.saveMeta(h))];case 14:return[4,p.sent()];case 15:if(p.sent(),!this.executing)return[3,17];p.label=16;case 16:return c=!0,[3,11];case 17:return[3,24];case 18:return r={error:p.sent()},[3,24];case 19:if(p.trys.push([19,,22,23]),!(!c&&!t&&(n=d.return)))return[3,21];return[4,t1(n.call(d))];case 20:p.sent(),p.label=21;case 21:return[3,23];case 22:if(r)throw r.error;return[7];case 23:return[7];case 24:return[3,27];case 25:return[4,t1(l.close())];case 26:return p.sent(),this.executing=!1,[7];case 27:return[2]}})})}}]),r}(t0),t8=function(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0},t5=function(e,t,r,n,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var s,l=n.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f=!1,h=r.length-1;h>=0;h--){var p={};for(var b in n)p[b]="access"===b?{}:n[b];for(var b in n.access)p.access[b]=n.access[b];p.addInitializer=function(e){if(f)throw TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var m=(0,r[h])("accessor"===l?{get:d.get,set:d.set}:d[u],p);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(s=a(m.get))&&(d.get=s),(s=a(m.set))&&(d.set=s),(s=a(m.init))&&o.unshift(s)}else(s=a(m))&&("field"===l?o.unshift(s):d[u]=s)}c&&Object.defineProperty(c,n.name,d),f=!0},t9=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},t6=function(e,t,r,n,o){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!o)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},t7=(e3=[],e4=[],e8=[],eX=function(){function e(){(0,to._)(this,e),eG.set(this,(t8(this,e3),t8(this,e4,[]))),t8(this,e8),tk(this,"downloader")}return(0,ti._)(e,[{key:"tasks",get:function(){return t9(this,eG,"f")},set:function(e){t6(this,eG,e,"f")}},{key:"unfinishedCount",get:function(){return this.tasks.filter(function(e){return e.percent<100}).length}},{key:"executingCount",get:function(){return this.tasks.filter(function(e){return e.executing}).length}},{key:"createTask",value:function(e,t){var r=this.tasks,n=eX.createTask(e,t);return r.find(function(t){return t.path===e})||(this.tasks=(0,td._)(r).concat([n])),n}},{key:"destroyTask",value:function(e){var t,r,n,o;return t=this,r=void 0,n=void 0,o=function(){var t,r;return(0,e6._)(this,function(n){switch(n.label){case 0:if((r=(t=this.tasks).findIndex(function(t){return t.name===e}))<0)throw ReferenceError("".concat(e," isn't found"));return[4,t[r].destroy()];case 1:return n.sent(),this.tasks=(0,td._)(t.slice(0,r)).concat((0,td._)(t.slice(r+1))),[2]}})},new(n||(n=Promise))(function(e,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(a,s)}l((o=o.apply(t,r||[])).next())})}}],[{key:"createTask",value:function(e,t){var r=(0,tf._)(e.split(":"),1)[0],n=eX.protocolMap[r];if(!n)throw URIError('Protocol "'.concat(r,' has not been registered"'));return new n(e,t)}}]),e}(),eG=new WeakMap,e5="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0,e0=[tT({set:function(e){return e.map(function(e){return{name:e.name,path:e.path}})},get:function(e){return null==e?void 0:e.map(function(e){var t=e.name,r=e.path;return t7.createTask(r,t)})}}),te.observable],e1=[te.computed],e2=[te.computed],t5(eX,null,e0,{kind:"accessor",name:"tasks",static:!1,private:!1,access:{has:function(e){return"tasks"in e},get:function(e){return e.tasks},set:function(e,t){e.tasks=t}},metadata:e5},e4,e8),t5(eX,null,e1,{kind:"getter",name:"unfinishedCount",static:!1,private:!1,access:{has:function(e){return"unfinishedCount"in e},get:function(e){return e.unfinishedCount}},metadata:e5},null,e3),t5(eX,null,e2,{kind:"getter",name:"executingCount",static:!1,private:!1,access:{has:function(e){return"executingCount"in e},get:function(e){return e.executingCount}},metadata:e5},null,e3),e5&&Object.defineProperty(eX,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e5}),Object.defineProperty(eX,"protocolMap",{enumerable:!0,configurable:!0,writable:!0,value:{http:t4,https:t4}}),eX);tm(tN,tU),tm(tN,tQ),tm(e.exports,tv),tm(e.exports,tO),tm(e.exports,tz),tm(e.exports,tN)}),n("99P5W",function(t,n){var o;e(t.exports,"_",function(){return o},function(e){return o=e}),o=r("1jjCk").__values}),n("4Fv7u",function(t,r){var n;function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e){return new Promise(function(t,r){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return r(e.error)}})}function a(e,t){var r=indexedDB.open(e);r.onupgradeneeded=function(){return r.result.createObjectStore(t)};var n=i(r);return function(e,r){return n.then(function(n){return r(n.transaction(t,e).objectStore(t))})}}function s(){return n||(n=a("keyval-store","keyval")),n}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return t("readonly",function(t){return i(t.get(e))})}function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s();return r("readwrite",function(r){return r.put(t,e),i(r.transaction)})}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return t("readwrite",function(t){return e.forEach(function(e){return t.put(e[1],e[0])}),i(t.transaction)})}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return t("readonly",function(t){return Promise.all(e.map(function(e){return i(t.get(e))}))})}function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s();return r("readwrite",function(r){return new Promise(function(n,o){r.get(e).onsuccess=function(){try{r.put(t(this.result),e),n(i(r.transaction))}catch(e){o(e)}}})})}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return t("readwrite",function(t){return t.delete(e),i(t.transaction)})}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return t("readwrite",function(t){return e.forEach(function(e){return t.delete(e)}),i(t.transaction)})}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s();return e("readwrite",function(e){return e.clear(),i(e.transaction)})}function m(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},i(e.transaction)}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s();return e("readonly",function(e){if(e.getAllKeys)return i(e.getAllKeys());var t=[];return m(e,function(e){return t.push(e.key)}).then(function(){return t})})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s();return e("readonly",function(e){if(e.getAll)return i(e.getAll());var t=[];return m(e,function(e){return t.push(e.value)}).then(function(){return t})})}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s();return e("readonly",function(t){if(t.getAll&&t.getAllKeys)return Promise.all([i(t.getAllKeys()),i(t.getAll())]).then(function(e){var t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,s=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(s)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],n=t[1];return r.map(function(e,t){return[e,n[t]]})});var r=[];return e("readonly",function(e){return m(e,function(e){return r.push([e.key,e.value])}).then(function(){return r})})})}e(t.exports,"promisifyRequest",function(){return i}),e(t.exports,"createStore",function(){return a}),e(t.exports,"get",function(){return l}),e(t.exports,"set",function(){return u}),e(t.exports,"setMany",function(){return c}),e(t.exports,"getMany",function(){return d}),e(t.exports,"update",function(){return f}),e(t.exports,"del",function(){return h}),e(t.exports,"delMany",function(){return p}),e(t.exports,"clear",function(){return b}),e(t.exports,"keys",function(){return y}),e(t.exports,"values",function(){return v}),e(t.exports,"entries",function(){return g})}),n("2iH1r",function(t,n){e(t.exports,"_",function(){return o},function(e){return o=e});var o,i=r("3BsAS"),a=r("3daYX"),s=r("eWbjV"),l=r("4x5JV");o=function(e,t){return i._(e)||a._(e,t)||l._(e,t)||s._()}}),n("3BsAS",function(t,r){var n;e(t.exports,"_",function(){return n},function(e){return n=e}),n=function(e){if(Array.isArray(e))return e}}),n("3daYX",function(t,r){var n;e(t.exports,"_",function(){return n},function(e){return n=e}),n=function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,s=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(s)throw n}}return i}}}),n("eWbjV",function(t,r){var n;e(t.exports,"_",function(){return n},function(e){return n=e}),n=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}}),n("cOq2H",function(t,n){e(t.exports,"FileSystemDirectoryHandle",function(){return r("9eWHj").default}),e(t.exports,"FileSystemFileHandle",function(){return r("kcPVa").default}),e(t.exports,"FileSystemHandle",function(){return r("aK2br").default}),e(t.exports,"FileSystemWritableFileStream",function(){return r("6ZQLN").default}),e(t.exports,"getOriginPrivateDirectory",function(){return r("Zo1cA").default}),e(t.exports,"showDirectoryPicker",function(){return r("dFpKN").default}),e(t.exports,"showOpenFilePicker",function(){return r("2SyPp").default}),e(t.exports,"showSaveFilePicker",function(){return r("iGJJh").default}),r("dFpKN"),r("2SyPp"),r("iGJJh"),r("Zo1cA"),r("6ZQLN"),r("9eWHj"),r("kcPVa"),r("aK2br")}),n("dFpKN",function(t,n){e(t.exports,"default",function(){return i});let o=globalThis.showDirectoryPicker;var i=async function(e={}){if(o&&!e._preferPolyfill)return o(e);let t=document.createElement("input");t.type="file",t.webkitdirectory=!0,t.multiple=!0,t.style.position="fixed",t.style.top="-100000px",t.style.left="-100000px",document.body.appendChild(t);let n=Promise.resolve(r("i2xD3"));return await new Promise(e=>{t.addEventListener("change",e),t.click()}),n.then(e=>e.getDirHandlesFromInput(t))}}),n("2SyPp",function(t,n){e(t.exports,"default",function(){return a});let o={accepts:[]},i=globalThis.showOpenFilePicker;var a=async function(e={}){let t={...o,...e};if(i&&!e._preferPolyfill)return i(t);let n=document.createElement("input");n.type="file",n.multiple=t.multiple,n.accept=(t.accepts||[]).map(e=>[...(e.extensions||[]).map(e=>"."+e),...e.mimeTypes||[]]).flat().join(","),Object.assign(n.style,{position:"fixed",top:"-100000px",left:"-100000px"}),document.body.appendChild(n);let a=Promise.resolve(r("i2xD3"));return await new Promise(e=>{n.addEventListener("change",e,{once:!0}),n.click()}),n.remove(),a.then(e=>e.getFileHandlesFromInput(n))}}),n("iGJJh",function(t,n){e(t.exports,"default",function(){return i});let o=globalThis.showSaveFilePicker;var i=async function(e={}){if(o&&!e._preferPolyfill)return o(e);e._name&&(console.warn("deprecated _name, spec now have `suggestedName`"),e.suggestedName=e._name);let{FileSystemFileHandle:t}=await r("5dHz8"),{FileHandle:n}=await r("1QPTk");return new t(new n(e.suggestedName))}}),n("5dHz8",function(e,t){var n=r("az5d3");e.exports=n("8dN6x").then(()=>r("kcPVa"))}),n("az5d3",function(e,t){e.exports=function(e){return import(r("itrNZ").resolve(e))}}),n("itrNZ",function(t,r){e(t.exports,"register",function(){return n},function(e){return n=e}),e(t.exports,"resolve",function(){return o},function(e){return o=e});var n,o,i=new Map;n=function(e,t){for(var r=0;r<t.length-1;r+=2)i.set(t[r],{baseUrl:e,path:t[r+1]})},o=function(e){var t=i.get(e);if(null==t)throw Error("Could not resolve bundle with id "+e);return new URL(t.path,t.baseUrl).toString()}}),n("1QPTk",function(e,t){var n=r("az5d3");e.exports=n("3Euen").then(()=>r("2dZiX"))}),n("Zo1cA",function(t,n){e(t.exports,"default",function(){return o}),globalThis.DataTransferItem&&!DataTransferItem.prototype.getAsFileSystemHandle&&(DataTransferItem.prototype.getAsFileSystemHandle=async function(){let e=this.webkitGetAsEntry(),[{FileHandle:t,FolderHandle:n},{FileSystemDirectoryHandle:o},{FileSystemFileHandle:i}]=await Promise.all([r("83aam"),r("9FMAP"),r("5dHz8")]);return e.isFile?new i(new t(e,!1)):new o(new n(e,!1))});var o=async function(e,t={}){if(!e)return globalThis.navigator?.storage?.getDirectory()||globalThis.getOriginPrivateDirectory();let{FileSystemDirectoryHandle:n}=await r("9FMAP"),o=await e;return new n(await (o.default?o.default(t):o(t)))}}),n("83aam",function(e,t){var n=r("az5d3");e.exports=n("d0xkQ").then(()=>r("d1xSi"))}),n("9FMAP",function(e,t){var n=r("az5d3");e.exports=n("e8ZAS").then(()=>r("9eWHj"))}),n("6ZQLN",function(t,n){e(t.exports,"default",function(){return a});let{WritableStream:o}=r("7fsxx").default;class i extends o{#e;constructor(e){super(e),this.#e=e,Object.setPrototypeOf(this,i.prototype),this._closed=!1}async close(){this._closed=!0;let e=this.getWriter(),t=e.close();return e.releaseLock(),t}seek(e){return this.write({type:"seek",position:e})}truncate(e){return this.write({type:"truncate",size:e})}write(e){if(this._closed)return Promise.reject(TypeError("Cannot write to a CLOSED writable stream"));let t=this.getWriter(),r=t.write(e);return t.releaseLock(),r}}Object.defineProperty(i.prototype,Symbol.toStringTag,{value:"FileSystemWritableFileStream",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(i.prototype,{close:{enumerable:!0},seek:{enumerable:!0},truncate:{enumerable:!0},write:{enumerable:!0}}),!globalThis.FileSystemFileHandle||globalThis.FileSystemFileHandle.prototype.createWritable||globalThis.FileSystemWritableFileStream||(globalThis.FileSystemWritableFileStream=i);var a=i}),n("aK2br",function(t,r){e(t.exports,"default",function(){return i});let n=Symbol("adapter");class o{[n];name;kind;constructor(e){this.kind=e.kind,this.name=e.name,this[n]=e}async queryPermission(e={}){let{mode:t="read"}=e,r=this[n];if(r.queryPermission)return r.queryPermission({mode:t});if("read"===t)return"granted";if("readwrite"===t)return r.writable?"granted":"denied";throw TypeError(`Mode ${t} must be 'read' or 'readwrite'`)}async requestPermission({mode:e="read"}={}){let t=this[n];if(t.requestPermission)return t.requestPermission({mode:e});if("read"===e)return"granted";if("readwrite"===e)return t.writable?"granted":"denied";throw TypeError(`Mode ${e} must be 'read' or 'readwrite'`)}async remove(e={}){await this[n].remove(e)}async isSameEntry(e){return this===e||!!e&&"object"==typeof e&&this.kind===e.kind&&!!e[n]&&this[n].isSameEntry(e[n])}}Object.defineProperty(o.prototype,Symbol.toStringTag,{value:"FileSystemHandle",writable:!1,enumerable:!1,configurable:!0}),globalThis.FileSystemHandle&&(globalThis.FileSystemHandle.prototype.queryPermission??=function(e){return"granted"});var i=o}),n("9vpgc",function(r,n){var o,i,a;/**
 * @license
 * web-streams-polyfill v4.0.0
 * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */function s(){}function l(e){return"object"==typeof e&&null!==e||"function"==typeof e}function u(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(e){}}e(r.exports,"ReadableStreamDefaultReader",function(){return Z}),e(r.exports,"ReadableStreamBYOBRequest",function(){return ew}),e(r.exports,"ReadableByteStreamController",function(){return eS}),e(r.exports,"ReadableStreamBYOBReader",function(){return e0}),e(r.exports,"WritableStream",function(){return te}),e(r.exports,"WritableStreamDefaultController",function(){return tg}),e(r.exports,"WritableStreamDefaultWriter",function(){return tf}),e(r.exports,"ReadableStreamDefaultController",function(){return tD}),e(r.exports,"ReadableStream",function(){return t0}),e(r.exports,"ByteLengthQueuingStrategy",function(){return rr}),e(r.exports,"CountQueuingStrategy",function(){return ra}),e(r.exports,"TransformStream",function(){return ru}),e(r.exports,"TransformStreamDefaultController",function(){return rb});let c=Promise,d=Promise.resolve.bind(c),f=Promise.prototype.then,h=Promise.reject.bind(c);function p(e){return new c(e)}function b(e){return p(t=>t(e))}function m(e,t,r){return f.call(e,t,r)}function y(e,t,r){m(m(e,t,r),void 0,s)}function v(e,t){y(e,void 0,t)}function g(e){m(e,void 0,s)}let _=e=>{if("function"==typeof queueMicrotask)_=queueMicrotask;else{let e=b(void 0);_=t=>m(e,t)}return _(e)};function w(e,t,r){if("function"!=typeof e)throw TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function S(e,t,r){try{return b(w(e,t,r))}catch(e){return h(e)}}class P{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let t=this._back,r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){let e=this._front,t=e,r=this._cursor,n=r+1,o=e._elements,i=o[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),o[r]=void 0,i}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(n=(r=r._next)._elements,t=0,0===n.length));)e(n[t]),++t}peek(){let e=this._front,t=this._cursor;return e._elements[t]}}let T=Symbol("[[AbortSteps]]"),k=Symbol("[[ErrorSteps]]"),R=Symbol("[[CancelSteps]]"),O=Symbol("[[PullSteps]]"),j=Symbol("[[ReleaseSteps]]");function E(e,t){var r;e._ownerReadableStream=t,t._reader=e,"readable"===t._state?I(e):"closed"===t._state?(I(e),z(e)):(r=t._storedError,I(e),W(e,r))}function C(e,t){return t5(e._ownerReadableStream,t)}function x(e){var t;let r=e._ownerReadableStream;"readable"===r._state?W(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(t=TypeError("Reader was released and can no longer be used to monitor the stream's closedness"),I(e),W(e,t)),r._readableStreamController[j](),r._reader=void 0,e._ownerReadableStream=void 0}function q(e){return TypeError("Cannot "+e+" a stream using a released reader")}function I(e){e._closedPromise=p((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function W(e,t){void 0!==e._closedPromise_reject&&(g(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function z(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let A=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},L=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function M(e,t){var r;if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw TypeError(`${t} is not an object.`)}function F(e,t){if("function"!=typeof e)throw TypeError(`${t} is not a function.`)}function B(e,t){if(!("object"==typeof e&&null!==e||"function"==typeof e))throw TypeError(`${t} is not an object.`)}function D(e,t,r){if(void 0===e)throw TypeError(`Parameter ${t} is required in '${r}'.`)}function $(e,t,r){if(void 0===e)throw TypeError(`${t} is required in '${r}'.`)}function H(e){return Number(e)}function N(e,t){var r,n;let o=Number.MAX_SAFE_INTEGER,i=Number(e);if(!A(i=0===(r=i)?0:r))throw TypeError(`${t} is not a finite number`);if((i=0===(n=L(i))?0:n)<0||i>o)throw TypeError(`${t} is outside the accepted range of 0 to ${o}, inclusive`);return A(i)&&0!==i?i:0}function U(e,t){if(!t4(e))throw TypeError(`${t} is not a ReadableStream.`)}function Q(e){return new Z(e)}function V(e,t){e._reader._readRequests.push(t)}function K(e,t,r){let n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function Y(e){return e._reader._readRequests.length}function J(e){let t=e._reader;return void 0!==t&&!!X(t)}class Z{constructor(e){if(D(e,1,"ReadableStreamDefaultReader"),U(e,"First parameter"),t8(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");E(this,e),this._readRequests=new P}get closed(){return X(this)?this._closedPromise:h(et("closed"))}cancel(e){return X(this)?void 0===this._ownerReadableStream?h(q("cancel")):C(this,e):h(et("cancel"))}read(){let e,t;if(!X(this))return h(et("read"));if(void 0===this._ownerReadableStream)return h(q("read from"));let r=p((r,n)=>{e=r,t=n});return G(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!X(this))throw et("releaseLock");void 0!==this._ownerReadableStream&&(x(this),ee(this,TypeError("Reader was released")))}}function X(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof Z}function G(e,t){let r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[O](t)}function ee(e,t){let r=e._readRequests;e._readRequests=new P,r.forEach(e=>{e._errorSteps(t)})}function et(e){return TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}function er(e){return e.slice()}function en(e,t,r,n,o){new Uint8Array(e).set(new Uint8Array(r,n,o),t)}Object.defineProperties(Z.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),u(Z.prototype.cancel,"cancel"),u(Z.prototype.read,"read"),u(Z.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Z.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let eo=e=>(eo="function"==typeof e.transfer?e=>e.transfer():"function"==typeof structuredClone?e=>structuredClone(e,{transfer:[e]}):e=>e)(e),ei=e=>(ei="boolean"==typeof e.detached?e=>e.detached:e=>0===e.byteLength)(e);function ea(e,t,r){if(e.slice)return e.slice(t,r);let n=r-t,o=new ArrayBuffer(n);return en(o,0,e,t,n),o}function es(e,t){let r=e[t];if(null!=r){if("function"!=typeof r)throw TypeError(`${String(t)} is not a function`);return r}}function el(e){try{let t=e.done,r=e.value;return m(d(r),e=>({done:t,value:e}))}catch(e){return h(e)}}let eu=null!==(a=null!==(o=Symbol.asyncIterator)&&void 0!==o?o:null===(i=Symbol.for)||void 0===i?void 0:i.call(Symbol,"Symbol.asyncIterator"))&&void 0!==a?a:"@@asyncIterator";function ec(e){let t=w(e.nextMethod,e.iterator,[]);if(!l(t))throw TypeError("The iterator.next() method must return an object");return t}class ed{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?m(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let t=()=>this._returnSteps(e);return this._ongoingPromise?m(this._ongoingPromise,t,t):t()}_nextSteps(){let e,t;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let r=this._reader,n=p((r,n)=>{e=r,t=n});return G(r,{_chunkSteps:t=>{this._ongoingPromise=void 0,_(()=>e({value:t,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,x(r),e({value:void 0,done:!0})},_errorSteps:e=>{this._ongoingPromise=void 0,this._isFinished=!0,x(r),t(e)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let t=this._reader;if(!this._preventCancel){let r=C(t,e);return x(t),m(r,()=>({value:e,done:!0}),void 0)}return x(t),b({value:e,done:!0})}}let ef={next(){return eh(this)?this._asyncIteratorImpl.next():h(ep("next"))},return(e){return eh(this)?this._asyncIteratorImpl.return(e):h(ep("return"))},[eu](){return this}};function eh(e){if(!l(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ed}catch(e){return!1}}function ep(e){return TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(ef,eu,{enumerable:!1});let eb=Number.isNaN||function(e){return e!=e};function em(e){return new Uint8Array(ea(e.buffer,e.byteOffset,e.byteOffset+e.byteLength))}function ey(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function ev(e,t,r){if("number"!=typeof r||eb(r)||r<0||r===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function eg(e){e._queue=new P,e._queueTotalSize=0}function e_(e){return e===DataView}class ew{constructor(){throw TypeError("Illegal constructor")}get view(){if(!eT(this))throw eY("view");return this._view}respond(e){if(!eT(this))throw eY("respond");if(D(e,1,"respond"),e=N(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");if(ei(this._view.buffer))throw TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");eQ(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!eT(this))throw eY("respondWithNewView");if(D(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");if(ei(e.buffer))throw TypeError("The given view's buffer has been detached and so cannot be used as a response");eV(this._associatedReadableByteStreamController,e)}}Object.defineProperties(ew.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),u(ew.prototype.respond,"respond"),u(ew.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ew.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class eS{constructor(){throw TypeError("Illegal constructor")}get byobRequest(){if(!eP(this))throw eJ("byobRequest");return eN(this)}get desiredSize(){if(!eP(this))throw eJ("desiredSize");return eU(this)}close(){if(!eP(this))throw eJ("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if("readable"!==e)throw TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);eB(this)}enqueue(e){if(!eP(this))throw eJ("enqueue");if(D(e,1,"enqueue"),!ArrayBuffer.isView(e))throw TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");let t=this._controlledReadableByteStream._state;if("readable"!==t)throw TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);eD(this,e)}error(e){if(!eP(this))throw eJ("error");e$(this,e)}[R](e){eR(this),eg(this);let t=this._cancelAlgorithm(e);return eF(this),t}[O](e){let t=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void eH(this,e);let r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}let n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}V(t,e),ek(this)}[j](){if(this._pendingPullIntos.length>0){let e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new P,this._pendingPullIntos.push(e)}}}function eP(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof eS}function eT(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof ew}function ek(e){if(function(e){let t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&!!(J(t)&&Y(t)>0||eG(t)&&eX(t)>0||eU(e)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,y(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ek(e)),null),t=>(e$(e,t),null))}}function eR(e){ez(e),e._pendingPullIntos=new P}function eO(e,t){let r=!1;"closed"===e._state&&(r=!0);let n=ej(t);"default"===t.readerType?K(e,n,r):function(e,t,r){let n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function ej(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function eE(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function eC(e,t,r,n){let o;try{o=ea(t,r,r+n)}catch(t){throw e$(e,t),t}eE(e,o,0,n)}function ex(e,t){t.bytesFilled>0&&eC(e,t.buffer,t.byteOffset,t.bytesFilled),eM(e)}function eq(e,t){let r=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),n=t.bytesFilled+r,o=r,i=!1,a=n-n%t.elementSize;a>=t.minimumFill&&(o=a-t.bytesFilled,i=!0);let s=e._queue;for(;o>0;){let r=s.peek(),n=Math.min(o,r.byteLength),i=t.byteOffset+t.bytesFilled;en(t.buffer,i,r.buffer,r.byteOffset,n),r.byteLength===n?s.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,eI(e,n,t),o-=n}return i}function eI(e,t,r){r.bytesFilled+=t}function eW(e){0===e._queueTotalSize&&e._closeRequested?(eF(e),t9(e._controlledReadableByteStream)):ek(e)}function ez(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function eA(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;let t=e._pendingPullIntos.peek();eq(e,t)&&(eM(e),eO(e._controlledReadableByteStream,t))}}function eL(e,t){let r=e._pendingPullIntos.peek();ez(e),"closed"===e._controlledReadableByteStream._state?function(e,t){"none"===t.readerType&&eM(e);let r=e._controlledReadableByteStream;if(eG(r))for(;eX(r)>0;)eO(r,eM(e))}(e,r):function(e,t,r){if(eI(0,t,r),"none"===r.readerType)return ex(e,r),void eA(e);if(r.bytesFilled<r.minimumFill)return;eM(e);let n=r.bytesFilled%r.elementSize;if(n>0){let t=r.byteOffset+r.bytesFilled;eC(e,r.buffer,t-n,n)}r.bytesFilled-=n,eO(e._controlledReadableByteStream,r),eA(e)}(e,t,r),ek(e)}function eM(e){return e._pendingPullIntos.shift()}function eF(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function eB(e){let t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state){if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek();if(t.bytesFilled%t.elementSize!=0){let t=TypeError("Insufficient bytes to fill elements in the given buffer");throw e$(e,t),t}}eF(e),t9(t)}}}function eD(e,t){let r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;let{buffer:n,byteOffset:o,byteLength:i}=t;if(ei(n))throw TypeError("chunk's buffer is detached and so cannot be enqueued");let a=eo(n);if(e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek();if(ei(t.buffer))throw TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");ez(e),t.buffer=eo(t.buffer),"none"===t.readerType&&ex(e,t)}J(r)?(function(e){let t=e._controlledReadableByteStream._reader;for(;t._readRequests.length>0;){if(0===e._queueTotalSize)return;eH(e,t._readRequests.shift())}}(e),0===Y(r))?eE(e,a,o,i):(e._pendingPullIntos.length>0&&eM(e),K(r,new Uint8Array(a,o,i),!1)):eG(r)?(eE(e,a,o,i),eA(e)):eE(e,a,o,i),ek(e)}function e$(e,t){let r=e._controlledReadableByteStream;"readable"===r._state&&(eR(e),eg(e),eF(e),t6(r,t))}function eH(e,t){let r=e._queue.shift();e._queueTotalSize-=r.byteLength,eW(e);let n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(n)}function eN(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(ew.prototype);n._associatedReadableByteStreamController=e,n._view=r,e._byobRequest=n}return e._byobRequest}function eU(e){let t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function eQ(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw RangeError("bytesWritten out of range")}r.buffer=eo(r.buffer),eL(e,t)}function eV(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw RangeError("The region specified by view is larger than byobRequest");let n=t.byteLength;r.buffer=eo(t.buffer),eL(e,n)}function eK(e,t,r,n,o,i,a){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,eg(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,t._autoAllocateChunkSize=a,t._pendingPullIntos=new P,e._readableStreamController=t,y(b(r()),()=>(t._started=!0,ek(t),null),e=>(e$(t,e),null))}function eY(e){return TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function eJ(e){return TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function eZ(e,t){e._reader._readIntoRequests.push(t)}function eX(e){return e._reader._readIntoRequests.length}function eG(e){let t=e._reader;return void 0!==t&&!!e1(t)}Object.defineProperties(eS.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),u(eS.prototype.close,"close"),u(eS.prototype.enqueue,"enqueue"),u(eS.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(eS.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class e0{constructor(e){if(D(e,1,"ReadableStreamBYOBReader"),U(e,"First parameter"),t8(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!eP(e._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");E(this,e),this._readIntoRequests=new P}get closed(){return e1(this)?this._closedPromise:h(e4("closed"))}cancel(e){return e1(this)?void 0===this._ownerReadableStream?h(q("cancel")):C(this,e):h(e4("cancel"))}read(e,t={}){let r,n,o;if(!e1(this))return h(e4("read"));if(!ArrayBuffer.isView(e))return h(TypeError("view must be an array buffer view"));if(0===e.byteLength)return h(TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return h(TypeError("view's buffer must have non-zero byteLength"));if(ei(e.buffer))return h(TypeError("view's buffer has been detached"));try{var i,a;i="options",M(t,i),r={min:N(null!==(a=null==t?void 0:t.min)&&void 0!==a?a:1,`${i} has member 'min' that`)}}catch(e){return h(e)}let s=r.min;if(0===s)return h(TypeError("options.min must be greater than 0"));if(e_(e.constructor)){if(s>e.byteLength)return h(RangeError("options.min must be less than or equal to view's byteLength"))}else if(s>e.length)return h(RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return h(q("read from"));let l=p((e,t)=>{n=e,o=t});return e2(this,e,s,{_chunkSteps:e=>n({value:e,done:!1}),_closeSteps:e=>n({value:e,done:!0}),_errorSteps:e=>o(e)}),l}releaseLock(){if(!e1(this))throw e4("releaseLock");void 0!==this._ownerReadableStream&&(x(this),e3(this,TypeError("Reader was released")))}}function e1(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof e0}function e2(e,t,r,n){let o=e._ownerReadableStream;o._disturbed=!0,"errored"===o._state?n._errorSteps(o._storedError):function(e,t,r,n){let o;let i=e._controlledReadableByteStream,a=t.constructor,s=e_(a)?1:a.BYTES_PER_ELEMENT,{byteOffset:l,byteLength:u}=t;try{o=eo(t.buffer)}catch(e){return void n._errorSteps(e)}let c={buffer:o,bufferByteLength:o.byteLength,byteOffset:l,byteLength:u,bytesFilled:0,minimumFill:r*s,elementSize:s,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(c),void eZ(i,n);if("closed"!==i._state){if(e._queueTotalSize>0){if(eq(e,c)){let t=ej(c);return eW(e),void n._chunkSteps(t)}if(e._closeRequested){let t=TypeError("Insufficient bytes to fill elements in the given buffer");return e$(e,t),void n._errorSteps(t)}}e._pendingPullIntos.push(c),eZ(i,n),ek(e)}else{let e=new a(c.buffer,c.byteOffset,0);n._closeSteps(e)}}(o._readableStreamController,t,r,n)}function e3(e,t){let r=e._readIntoRequests;e._readIntoRequests=new P,r.forEach(e=>{e._errorSteps(t)})}function e4(e){return TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function e8(e,t){let{highWaterMark:r}=e;if(void 0===r)return t;if(eb(r)||r<0)throw RangeError("Invalid highWaterMark");return r}function e5(e){let{size:t}=e;return t||(()=>1)}function e9(e,t){M(e,t);let r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:H(r),size:void 0===n?void 0:(F(n,`${t} has member 'size' that`),e=>H(n(e)))}}function e6(e,t){if(!tr(e))throw TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(e0.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),u(e0.prototype.cancel,"cancel"),u(e0.prototype.read,"read"),u(e0.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(e0.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});let e7="function"==typeof AbortController;class te{constructor(e={},t={}){void 0===e?e=null:B(e,"First parameter");let r=e9(t,"Second parameter"),n=function(e,t){M(e,t);let r=null==e?void 0:e.abort,n=null==e?void 0:e.close,o=null==e?void 0:e.start,i=null==e?void 0:e.type,a=null==e?void 0:e.write;return{abort:void 0===r?void 0:(F(r,`${t} has member 'abort' that`),t=>S(r,e,[t])),close:void 0===n?void 0:(F(n,`${t} has member 'close' that`),()=>S(n,e,[])),start:void 0===o?void 0:(F(o,`${t} has member 'start' that`),t=>w(o,e,[t])),write:void 0===a?void 0:(F(a,`${t} has member 'write' that`),(t,r)=>S(a,e,[t,r])),type:i}}(e,"First parameter");if(tt(this),void 0!==n.type)throw RangeError("Invalid type is specified");let o=e5(r);!function(e,t,r,n){let o,i;let a=Object.create(tg.prototype);o=void 0!==t.start?()=>t.start(a):()=>{},i=void 0!==t.write?e=>t.write(e,a):()=>b(void 0),tw(e,a,o,i,void 0!==t.close?()=>t.close():()=>b(void 0),void 0!==t.abort?e=>t.abort(e):()=>b(void 0),r,n)}(this,n,e8(r,1),o)}get locked(){if(!tr(this))throw tO("locked");return tn(this)}abort(e){return tr(this)?tn(this)?h(TypeError("Cannot abort a stream that already has a writer")):to(this,e):h(tO("abort"))}close(){return tr(this)?tn(this)?h(TypeError("Cannot close a stream that already has a writer")):tu(this)?h(TypeError("Cannot close an already-closing stream")):ti(this):h(tO("close"))}getWriter(){if(!tr(this))throw tO("getWriter");return new tf(this)}}function tt(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new P,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function tr(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof te}function tn(e){return void 0!==e._writer}function to(e,t){var r;if("closed"===e._state||"errored"===e._state)return b(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort(t);let n=e._state;if("closed"===n||"errored"===n)return b(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let o=!1;"erroring"===n&&(o=!0,t=void 0);let i=p((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:o}});return e._pendingAbortRequest._promise=i,o||ts(e,t),i}function ti(e){var t;let r=e._state;if("closed"===r||"errored"===r)return h(TypeError(`The stream (in ${r} state) is not in the writable state and cannot be closed`));let n=p((t,r)=>{e._closeRequest={_resolve:t,_reject:r}}),o=e._writer;return void 0!==o&&e._backpressure&&"writable"===r&&tL(o),ev(t=e._writableStreamController,tv,0),tT(t),n}function ta(e,t){"writable"!==e._state?tl(e):ts(e,t)}function ts(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let n=e._writer;void 0!==n&&tb(n,t),!(void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest)&&r._started&&tl(e)}function tl(e){e._state="errored",e._writableStreamController[k]();let t=e._storedError;if(e._writeRequests.forEach(e=>{e._reject(t)}),e._writeRequests=new P,void 0===e._pendingAbortRequest)return void tc(e);let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void tc(e);y(e._writableStreamController[T](r._reason),()=>(r._resolve(),tc(e),null),t=>(r._reject(t),tc(e),null))}function tu(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function tc(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;void 0!==t&&tq(t,e._storedError)}function td(e,t){let r=e._writer;void 0!==r&&t!==e._backpressure&&(t?tW(r):tL(r)),e._backpressure=t}Object.defineProperties(te.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),u(te.prototype.abort,"abort"),u(te.prototype.close,"close"),u(te.prototype.getWriter,"getWriter"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(te.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class tf{constructor(e){if(D(e,1,"WritableStreamDefaultWriter"),e6(e,"First parameter"),tn(e))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let t=e._state;if("writable"===t)!tu(e)&&e._backpressure?tW(this):(tW(this),tL(this)),tx(this);else if("erroring"===t)tz(this,e._storedError),tx(this);else if("closed"===t)tW(this),tL(this),tx(this),tI(this);else{let t=e._storedError;tz(this,t),tx(this),tq(this,t)}}get closed(){return th(this)?this._closedPromise:h(tE("closed"))}get desiredSize(){if(!th(this))throw tE("desiredSize");if(void 0===this._ownerWritableStream)throw tC("desiredSize");return function(e){let t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:tP(t._writableStreamController)}(this)}get ready(){return th(this)?this._readyPromise:h(tE("ready"))}abort(e){return th(this)?void 0===this._ownerWritableStream?h(tC("abort")):to(this._ownerWritableStream,e):h(tE("abort"))}close(){if(!th(this))return h(tE("close"));let e=this._ownerWritableStream;return void 0===e?h(tC("close")):tu(e)?h(TypeError("Cannot close an already-closing stream")):tp(this)}releaseLock(){if(!th(this))throw tE("releaseLock");void 0!==this._ownerWritableStream&&tm(this)}write(e){return th(this)?void 0===this._ownerWritableStream?h(tC("write to")):ty(this,e):h(tE("write"))}}function th(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof tf}function tp(e){return ti(e._ownerWritableStream)}function tb(e,t){"pending"===e._readyPromiseState?tA(e,t):tz(e,t)}function tm(e){let t=e._ownerWritableStream,r=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");tb(e,r),"pending"===e._closedPromiseState||tx(e),tq(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function ty(e,t){let r=e._ownerWritableStream,n=r._writableStreamController,o=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return tk(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return h(tC("write to"));let i=r._state;if("errored"===i)return h(r._storedError);if(tu(r)||"closed"===i)return h(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return h(r._storedError);let a=p((e,t)=>{r._writeRequests.push({_resolve:e,_reject:t})});return function(e,t,r){try{ev(e,t,r)}catch(t){return void tk(e,t)}let n=e._controlledWritableStream;tu(n)||"writable"!==n._state||td(n,0>=tP(e)),tT(e)}(n,t,o),a}Object.defineProperties(tf.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),u(tf.prototype.abort,"abort"),u(tf.prototype.close,"close"),u(tf.prototype.releaseLock,"releaseLock"),u(tf.prototype.write,"write"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(tf.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});let tv={};class tg{constructor(){throw TypeError("Illegal constructor")}get abortReason(){if(!t_(this))throw tj("abortReason");return this._abortReason}get signal(){if(!t_(this))throw tj("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!t_(this))throw tj("error");"writable"===this._controlledWritableStream._state&&tR(this,e)}[T](e){let t=this._abortAlgorithm(e);return tS(this),t}[k](){eg(this)}}function t_(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof tg}function tw(e,t,r,n,o,i,a,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,eg(t),t._abortReason=void 0,t._abortController=function(){if(e7)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._writeAlgorithm=n,t._closeAlgorithm=o,t._abortAlgorithm=i,td(e,0>=tP(t)),y(b(r()),()=>(t._started=!0,tT(t),null),r=>(t._started=!0,ta(e,r),null))}function tS(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function tP(e){return e._strategyHWM-e._queueTotalSize}function tT(e){let t=e._controlledWritableStream;if(!e._started||void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void tl(t);if(0===e._queue.length)return;let r=e._queue.peek().value;r===tv?function(e){let t=e._controlledWritableStream;t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0,ey(e);let r=e._closeAlgorithm();tS(e),y(r,()=>((function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let t=e._writer;void 0!==t&&tI(t)})(t),null),e=>(t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),ta(t,e),null))}(e):function(e,t){let r=e._controlledWritableStream;r._inFlightWriteRequest=r._writeRequests.shift(),y(e._writeAlgorithm(t),()=>{r._inFlightWriteRequest._resolve(void 0),r._inFlightWriteRequest=void 0;let t=r._state;return ey(e),tu(r)||"writable"!==t||td(r,0>=tP(e)),tT(e),null},t=>("writable"===r._state&&tS(e),r._inFlightWriteRequest._reject(t),r._inFlightWriteRequest=void 0,ta(r,t),null))}(e,r)}function tk(e,t){"writable"===e._controlledWritableStream._state&&tR(e,t)}function tR(e,t){let r=e._controlledWritableStream;tS(e),ts(r,t)}function tO(e){return TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function tj(e){return TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function tE(e){return TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function tC(e){return TypeError("Cannot "+e+" a stream using a released writer")}function tx(e){e._closedPromise=p((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function tq(e,t){void 0!==e._closedPromise_reject&&(g(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function tI(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function tW(e){e._readyPromise=p((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function tz(e,t){tW(e),tA(e,t)}function tA(e,t){void 0!==e._readyPromise_reject&&(g(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function tL(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(tg.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(tg.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});let tM="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==t?t:void 0,tF=function(){let e=null==tM?void 0:tM.DOMException;return!function(e){if("function"!=typeof e&&"object"!=typeof e||"DOMException"!==e.name)return!1;try{return new e,!0}catch(e){return!1}}(e)?void 0:e}()||function(){let e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return u(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function tB(e,t,r,n,o,i){let a=Q(e),l=new tf(t);e._disturbed=!0;let u=!1,c=b(void 0);return p((d,f)=>{var _,w;let S;if(void 0!==i){if(S=()=>{let r=void 0!==i.reason?i.reason:new tF("Aborted","AbortError"),a=[];n||a.push(()=>"writable"===t._state?to(t,r):b(void 0)),o||a.push(()=>"readable"===e._state?t5(e,r):b(void 0)),k(()=>Promise.all(a.map(e=>e())),!0,r)},i.aborted)return void S();i.addEventListener("abort",S)}if(T(e,a._closedPromise,e=>(n?R(!0,e):k(()=>to(t,e),!0,e),null)),T(t,l._closedPromise,t=>(o?R(!0,t):k(()=>t5(e,t),!0,t),null)),_=a._closedPromise,w=()=>(r?R():k(()=>(function(e){let t=e._ownerWritableStream,r=t._state;return tu(t)||"closed"===r?b(void 0):"errored"===r?h(t._storedError):tp(e)})(l)),null),"closed"===e._state?w():y(_,w),tu(t)||"closed"===t._state){let t=TypeError("the destination writable stream closed before all data could be piped to it");o?R(!0,t):k(()=>t5(e,t),!0,t)}function P(){let e=c;return m(c,()=>e!==c?P():void 0)}function T(e,t,r){"errored"===e._state?r(e._storedError):v(t,r)}function k(e,r,n){function o(){return y(e(),()=>O(r,n),e=>O(!0,e)),null}u||(u=!0,"writable"!==t._state||tu(t)?o():y(P(),o))}function R(e,r){u||(u=!0,"writable"!==t._state||tu(t)?O(e,r):y(P(),()=>O(e,r)))}function O(e,t){return tm(l),x(a),void 0!==i&&i.removeEventListener("abort",S),e?f(t):d(void 0),null}g(p((e,t)=>{!function r(n){n?e():m(u?b(!0):m(l._readyPromise,()=>p((e,t)=>{G(a,{_chunkSteps:t=>{c=m(ty(l,t),void 0,s),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})),r,t)}(!1)}))})}class tD{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!t$(this))throw tX("desiredSize");return tY(this)}close(){if(!t$(this))throw tX("close");if(!tJ(this))throw TypeError("The stream is not in a state that permits close");tQ(this)}enqueue(e){if(!t$(this))throw tX("enqueue");if(!tJ(this))throw TypeError("The stream is not in a state that permits enqueue");return tV(this,e)}error(e){if(!t$(this))throw tX("error");tK(this,e)}[R](e){eg(this);let t=this._cancelAlgorithm(e);return tU(this),t}[O](e){let t=this._controlledReadableStream;if(this._queue.length>0){let r=ey(this);this._closeRequested&&0===this._queue.length?(tU(this),t9(t)):tH(this),e._chunkSteps(r)}else V(t,e),tH(this)}[j](){}}function t$(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof tD}function tH(e){if(tN(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,y(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,tH(e)),null),t=>(tK(e,t),null))}}function tN(e){let t=e._controlledReadableStream;return!!tJ(e)&&!!e._started&&(!!(t8(t)&&Y(t)>0)||tY(e)>0)}function tU(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function tQ(e){if(!tJ(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(tU(e),t9(t))}function tV(e,t){if(!tJ(e))return;let r=e._controlledReadableStream;if(t8(r)&&Y(r)>0)K(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw tK(e,t),t}try{ev(e,t,r)}catch(t){throw tK(e,t),t}}tH(e)}function tK(e,t){let r=e._controlledReadableStream;"readable"===r._state&&(eg(e),tU(e),t6(r,t))}function tY(e){let t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function tJ(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function tZ(e,t,r,n,o,i,a){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,eg(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=a,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,e._readableStreamController=t,y(b(r()),()=>(t._started=!0,tH(t),null),e=>(tK(t,e),null))}function tX(e){return TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function tG(e,t){M(e,t);let r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,o=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw TypeError(`${t} is not an AbortSignal.`)}(i,`${t} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!n,preventClose:!!o,signal:i}}Object.defineProperties(tD.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),u(tD.prototype.close,"close"),u(tD.prototype.enqueue,"enqueue"),u(tD.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(tD.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class t0{constructor(e={},t={}){void 0===e?e=null:B(e,"First parameter");let r=e9(t,"Second parameter"),n=function(e,t){M(e,t);let r=null==e?void 0:e.autoAllocateChunkSize,n=null==e?void 0:e.cancel,o=null==e?void 0:e.pull,i=null==e?void 0:e.start,a=null==e?void 0:e.type;return{autoAllocateChunkSize:void 0===r?void 0:N(r,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===n?void 0:(F(n,`${t} has member 'cancel' that`),t=>S(n,e,[t])),pull:void 0===o?void 0:(F(o,`${t} has member 'pull' that`),t=>S(o,e,[t])),start:void 0===i?void 0:(F(i,`${t} has member 'start' that`),t=>w(i,e,[t])),type:void 0===a?void 0:function(e,t){if("bytes"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}(a,`${t} has member 'type' that`)}}(e,"First parameter");if(t3(this),"bytes"===n.type){if(void 0!==r.size)throw RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){let n,o,i;let a=Object.create(eS.prototype);n=void 0!==t.start?()=>t.start(a):()=>{},o=void 0!==t.pull?()=>t.pull(a):()=>b(void 0),i=void 0!==t.cancel?e=>t.cancel(e):()=>b(void 0);let s=t.autoAllocateChunkSize;if(0===s)throw TypeError("autoAllocateChunkSize must be greater than 0");eK(e,a,n,o,i,r,s)}(this,n,e8(r,0))}else{let e=e5(r);!function(e,t,r,n){let o,i;let a=Object.create(tD.prototype);o=void 0!==t.start?()=>t.start(a):()=>{},i=void 0!==t.pull?()=>t.pull(a):()=>b(void 0),tZ(e,a,o,i,void 0!==t.cancel?e=>t.cancel(e):()=>b(void 0),r,n)}(this,n,e8(r,1),e)}}get locked(){if(!t4(this))throw t7("locked");return t8(this)}cancel(e){return t4(this)?t8(this)?h(TypeError("Cannot cancel a stream that already has a reader")):t5(this,e):h(t7("cancel"))}getReader(e){if(!t4(this))throw t7("getReader");return void 0===function(e,t){M(e,t);let r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:function(e,t){if("byob"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?Q(this):new e0(this)}pipeThrough(e,t={}){if(!t4(this))throw t7("pipeThrough");D(e,1,"pipeThrough");let r=function(e,t){M(e,t);let r=null==e?void 0:e.readable;$(r,"readable","ReadableWritablePair"),U(r,`${t} has member 'readable' that`);let n=null==e?void 0:e.writable;return $(n,"writable","ReadableWritablePair"),e6(n,`${t} has member 'writable' that`),{readable:r,writable:n}}(e,"First parameter"),n=tG(t,"Second parameter");if(t8(this))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(tn(r.writable))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return g(tB(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){let r;if(!t4(this))return h(t7("pipeTo"));if(void 0===e)return h("Parameter 1 is required in 'pipeTo'.");if(!tr(e))return h(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{r=tG(t,"Second parameter")}catch(e){return h(e)}return t8(this)?h(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):tn(e)?h(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):tB(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!t4(this))throw t7("tee");return er(eP(this._readableStreamController)?function(e){let t,r,n,o,i,a=Q(e),s=!1,l=!1,u=!1,c=!1,d=!1,f=p(e=>{i=e});function h(e){v(e._closedPromise,t=>(e!==a||(e$(n._readableStreamController,t),e$(o._readableStreamController,t),c&&d||i(void 0)),null))}function m(){e1(a)&&(x(a),h(a=Q(e))),G(a,{_chunkSteps:t=>{_(()=>{l=!1,u=!1;let r=t;if(!c&&!d)try{r=em(t)}catch(t){return e$(n._readableStreamController,t),e$(o._readableStreamController,t),void i(t5(e,t))}c||eD(n._readableStreamController,t),d||eD(o._readableStreamController,r),s=!1,l?g():u&&w()})},_closeSteps:()=>{s=!1,c||eB(n._readableStreamController),d||eB(o._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&eQ(n._readableStreamController,0),o._readableStreamController._pendingPullIntos.length>0&&eQ(o._readableStreamController,0),c&&d||i(void 0)},_errorSteps:()=>{s=!1}})}function y(t,r){X(a)&&(x(a),h(a=new e0(e)));let f=r?o:n,p=r?n:o;e2(a,t,1,{_chunkSteps:t=>{_(()=>{l=!1,u=!1;let n=r?d:c;if(r?c:d)n||eV(f._readableStreamController,t);else{let r;try{r=em(t)}catch(t){return e$(f._readableStreamController,t),e$(p._readableStreamController,t),void i(t5(e,t))}n||eV(f._readableStreamController,t),eD(p._readableStreamController,r)}s=!1,l?g():u&&w()})},_closeSteps:e=>{s=!1;let t=r?d:c,n=r?c:d;t||eB(f._readableStreamController),n||eB(p._readableStreamController),void 0!==e&&(t||eV(f._readableStreamController,e),!n&&p._readableStreamController._pendingPullIntos.length>0&&eQ(p._readableStreamController,0)),t&&n||i(void 0)},_errorSteps:()=>{s=!1}})}function g(){if(s)return l=!0,b(void 0);s=!0;let e=eN(n._readableStreamController);return null===e?m():y(e._view,!1),b(void 0)}function w(){if(s)return u=!0,b(void 0);s=!0;let e=eN(o._readableStreamController);return null===e?m():y(e._view,!0),b(void 0)}function S(){}return n=t2(S,g,function(n){if(c=!0,t=n,d){let n=t5(e,er([t,r]));i(n)}return f}),o=t2(S,w,function(n){if(d=!0,r=n,c){let n=t5(e,er([t,r]));i(n)}return f}),h(a),[n,o]}(this):function(e,t){let r=Q(e),n,o,i,a,s,l=!1,u=!1,c=!1,d=!1,f=p(e=>{s=e});function h(){return l?u=!0:(l=!0,G(r,{_chunkSteps:e=>{_(()=>{u=!1,c||tV(i._readableStreamController,e),d||tV(a._readableStreamController,e),l=!1,u&&h()})},_closeSteps:()=>{l=!1,c||tQ(i._readableStreamController),d||tQ(a._readableStreamController),c&&d||s(void 0)},_errorSteps:()=>{l=!1}})),b(void 0)}function m(){}return i=t1(m,h,function(t){if(c=!0,n=t,d){let t=t5(e,er([n,o]));s(t)}return f}),a=t1(m,h,function(t){if(d=!0,o=t,c){let t=t5(e,er([n,o]));s(t)}return f}),v(r._closedPromise,e=>(tK(i._readableStreamController,e),tK(a._readableStreamController,e),c&&d||s(void 0),null)),[i,a]}(this))}values(e){if(!t4(this))throw t7("values");return function(e,t){let r=new ed(Q(e),t),n=Object.create(ef);return n._asyncIteratorImpl=r,n}(this,(M(e,"First parameter"),{preventCancel:!!(null==e?void 0:e.preventCancel)}).preventCancel)}[eu](e){return this.values(e)}static from(e){var t;let r;return l(e)&&void 0!==e.getReader?(t=e.getReader(),r=t1(s,function(){let e;try{e=t.read()}catch(e){return h(e)}return m(e,e=>{if(!l(e))throw TypeError("The promise returned by the reader.read() method must fulfill with an object");if(e.done)tQ(r._readableStreamController);else{let t=e.value;tV(r._readableStreamController,t)}},void 0)},function(e){try{return b(t.cancel(e))}catch(e){return h(e)}},0)):function(e){let t;let r=function e(t,r="sync",n){if(void 0===n){if("async"===r){if(void 0===(n=es(t,eu)))return function(e){let t={next(){let t;try{t=ec(e)}catch(e){return h(e)}return el(t)},return(t){let r;try{let n=es(e.iterator,"return");if(void 0===n)return b({done:!0,value:t});r=w(n,e.iterator,[t])}catch(e){return h(e)}return l(r)?el(r):h(TypeError("The iterator.return() method must return an object"))}};return{iterator:t,nextMethod:t.next,done:!1}}(e(t,"sync",es(t,Symbol.iterator)))}else n=es(t,Symbol.iterator)}if(void 0===n)throw TypeError("The object is not iterable");let o=w(n,t,[]);if(!l(o))throw TypeError("The iterator method must return an object");return{iterator:o,nextMethod:o.next,done:!1}}(e,"async");return t=t1(s,function(){let e;try{e=ec(r)}catch(e){return h(e)}return m(b(e),e=>{if(!l(e))throw TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(e.done)tQ(t._readableStreamController);else{let r=e.value;tV(t._readableStreamController,r)}},void 0)},function(e){let t;let n=r.iterator;try{t=es(n,"return")}catch(e){return h(e)}return void 0===t?b(void 0):m(S(t,n,[e]),e=>{if(!l(e))throw TypeError("The promise returned by the iterator.return() method must fulfill with an object")},void 0)},0)}(e)}}function t1(e,t,r,n=1,o=()=>1){let i=Object.create(t0.prototype);return t3(i),tZ(i,Object.create(tD.prototype),e,t,r,n,o),i}function t2(e,t,r){let n=Object.create(t0.prototype);return t3(n),eK(n,Object.create(eS.prototype),e,t,r,0,void 0),n}function t3(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function t4(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof t0}function t8(e){return void 0!==e._reader}function t5(e,t){if(e._disturbed=!0,"closed"===e._state)return b(void 0);if("errored"===e._state)return h(e._storedError);t9(e);let r=e._reader;if(void 0!==r&&e1(r)){let e=r._readIntoRequests;r._readIntoRequests=new P,e.forEach(e=>{e._closeSteps(void 0)})}return m(e._readableStreamController[R](t),s,void 0)}function t9(e){e._state="closed";let t=e._reader;if(void 0!==t&&(z(t),X(t))){let e=t._readRequests;t._readRequests=new P,e.forEach(e=>{e._closeSteps()})}}function t6(e,t){e._state="errored",e._storedError=t;let r=e._reader;void 0!==r&&(W(r,t),X(r)?ee(r,t):e3(r,t))}function t7(e){return TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function re(e,t){M(e,t);let r=null==e?void 0:e.highWaterMark;return $(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:H(r)}}Object.defineProperties(t0,{from:{enumerable:!0}}),Object.defineProperties(t0.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),u(t0.from,"from"),u(t0.prototype.cancel,"cancel"),u(t0.prototype.getReader,"getReader"),u(t0.prototype.pipeThrough,"pipeThrough"),u(t0.prototype.pipeTo,"pipeTo"),u(t0.prototype.tee,"tee"),u(t0.prototype.values,"values"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(t0.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(t0.prototype,eu,{value:t0.prototype.values,writable:!0,configurable:!0});let rt=e=>e.byteLength;u(rt,"size");class rr{constructor(e){D(e,1,"ByteLengthQueuingStrategy"),e=re(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!ro(this))throw rn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!ro(this))throw rn("size");return rt}}function rn(e){return TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function ro(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof rr}Object.defineProperties(rr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(rr.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});let ri=()=>1;u(ri,"size");class ra{constructor(e){D(e,1,"CountQueuingStrategy"),e=re(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!rl(this))throw rs("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!rl(this))throw rs("size");return ri}}function rs(e){return TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function rl(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof ra}Object.defineProperties(ra.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ra.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class ru{constructor(e={},t={},r={}){let n;void 0===e&&(e=null);let o=e9(t,"Second parameter"),i=e9(r,"Third parameter"),a=function(e,t){M(e,t);let r=null==e?void 0:e.cancel,n=null==e?void 0:e.flush,o=null==e?void 0:e.readableType,i=null==e?void 0:e.start,a=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{cancel:void 0===r?void 0:(F(r,`${t} has member 'cancel' that`),t=>S(r,e,[t])),flush:void 0===n?void 0:(F(n,`${t} has member 'flush' that`),t=>S(n,e,[t])),readableType:o,start:void 0===i?void 0:(F(i,`${t} has member 'start' that`),t=>w(i,e,[t])),transform:void 0===a?void 0:(F(a,`${t} has member 'transform' that`),(t,r)=>S(a,e,[t,r])),writableType:s}}(e,"First parameter");if(void 0!==a.readableType)throw RangeError("Invalid readableType specified");if(void 0!==a.writableType)throw RangeError("Invalid writableType specified");let s=e8(i,0),l=e5(i),u=e8(o,1),c=e5(o);(function(e,t,r,n,o,i){function a(){return t}e._writable=function(e,t,r,n,o=1,i=()=>1){let a=Object.create(te.prototype);return tt(a),tw(a,Object.create(tg.prototype),e,t,r,n,o,i),a}(a,function(t){return function(e,t){let r=e._transformStreamController;return e._backpressure?m(e._backpressureChangePromise,()=>{let n=e._writable;if("erroring"===n._state)throw n._storedError;return rg(r,t)},void 0):rg(r,t)}(e,t)},function(){return function(e){let t=e._transformStreamController;if(void 0!==t._finishPromise)return t._finishPromise;let r=e._readable;t._finishPromise=p((e,r)=>{t._finishPromise_resolve=e,t._finishPromise_reject=r});let n=t._flushAlgorithm();return ry(t),y(n,()=>("errored"===r._state?rS(t,r._storedError):(tQ(r._readableStreamController),rw(t)),null),e=>(tK(r._readableStreamController,e),rS(t,e),null)),t._finishPromise}(e)},function(t){return function(e,t){let r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;let n=e._readable;r._finishPromise=p((e,t)=>{r._finishPromise_resolve=e,r._finishPromise_reject=t});let o=r._cancelAlgorithm(t);return ry(r),y(o,()=>("errored"===n._state?rS(r,n._storedError):(tK(n._readableStreamController,t),rw(r)),null),e=>(tK(n._readableStreamController,e),rS(r,e),null)),r._finishPromise}(e,t)},r,n),e._readable=t1(a,function(){return rp(e,!1),e._backpressureChangePromise},function(t){return function(e,t){let r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;let n=e._writable;r._finishPromise=p((e,t)=>{r._finishPromise_resolve=e,r._finishPromise_reject=t});let o=r._cancelAlgorithm(t);return ry(r),y(o,()=>("errored"===n._state?rS(r,n._storedError):(tk(n._writableStreamController,t),rh(e),rw(r)),null),t=>(tk(n._writableStreamController,t),rh(e),rS(r,t),null)),r._finishPromise}(e,t)},o,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,rp(e,!0),e._transformStreamController=void 0})(this,p(e=>{n=e}),u,c,s,l),function(e,t){let r,n,o;let i=Object.create(rb.prototype);r=void 0!==t.transform?e=>t.transform(e,i):e=>{try{return rv(i,e),b(void 0)}catch(e){return h(e)}},n=void 0!==t.flush?()=>t.flush(i):()=>b(void 0),o=void 0!==t.cancel?e=>t.cancel(e):()=>b(void 0),i._controlledTransformStream=e,e._transformStreamController=i,i._transformAlgorithm=r,i._flushAlgorithm=n,i._cancelAlgorithm=o,i._finishPromise=void 0,i._finishPromise_resolve=void 0,i._finishPromise_reject=void 0}(this,a),void 0!==a.start?n(a.start(this._transformStreamController)):n(void 0)}get readable(){if(!rc(this))throw rP("readable");return this._readable}get writable(){if(!rc(this))throw rP("writable");return this._writable}}function rc(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof ru}function rd(e,t){tK(e._readable._readableStreamController,t),rf(e,t)}function rf(e,t){ry(e._transformStreamController),tk(e._writable._writableStreamController,t),rh(e)}function rh(e){e._backpressure&&rp(e,!1)}function rp(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=p(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=t}Object.defineProperties(ru.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ru.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class rb{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!rm(this))throw r_("desiredSize");return tY(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!rm(this))throw r_("enqueue");rv(this,e)}error(e){if(!rm(this))throw r_("error");rd(this._controlledTransformStream,e)}terminate(){if(!rm(this))throw r_("terminate");!function(e){let t=e._controlledTransformStream;tQ(t._readable._readableStreamController),rf(t,TypeError("TransformStream terminated"))}(this)}}function rm(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof rb}function ry(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function rv(e,t){let r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!tJ(n))throw TypeError("Readable side is not in a state that permits enqueue");try{tV(n,t)}catch(e){throw rf(r,e),r._readable._storedError}!tN(n)!==r._backpressure&&rp(r,!0)}function rg(e,t){return m(e._transformAlgorithm(t),void 0,t=>{throw rd(e._controlledTransformStream,t),t})}function r_(e){return TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function rw(e){void 0!==e._finishPromise_resolve&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function rS(e,t){void 0!==e._finishPromise_reject&&(g(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function rP(e){return TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(rb.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),u(rb.prototype.enqueue,"enqueue"),u(rb.prototype.error,"error"),u(rb.prototype.terminate,"terminate"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(rb.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0})}),n("9ASDM",function(t,n){let o,i,a,s,l,u,c,d;e(t.exports,"UserModel",function(){return S});var f,h,p=r("N2Qqw"),b=r("2nE0J"),m=r("6jIBr"),y=function(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0},v=function(e,t,r,n,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var s,l=n.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f=!1,h=r.length-1;h>=0;h--){var p={};for(var b in n)p[b]="access"===b?{}:n[b];for(var b in n.access)p.access[b]=n.access[b];p.addInitializer=function(e){if(f)throw TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var m=(0,r[h])("accessor"===l?{get:d.get,set:d.set}:d[u],p);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(s=a(m.get))&&(d.get=s),(s=a(m.set))&&(d.set=s),(s=a(m.init))&&o.unshift(s)}else(s=a(m))&&("field"===l?o.unshift(s):d[u]=s)}c&&Object.defineProperty(c,n.name,d),f=!0},g=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},_=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},w=function(e,t,r,n,o){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!o)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r};let S=(l=m.BaseModel,u=[],c=[],d=[],f=class extends l{get roles(){return _(this,h,"f")}set roles(e){w(this,h,e,"f")}getRoles(){return g(this,void 0,void 0,function*(){let{body:e}=yield this.client.get("/role");return this.roles=e})}addRole(e,t){return g(this,void 0,void 0,function*(){yield this.client.post(`${this.baseURI}${e}/role/${t}`);let r=this.allItems.find(({objectId:t})=>t===e),{name:n}=this.roles.find(({objectId:e})=>e===t);r.roles=r.roles.concat(n)})}removeRole(e,t){return g(this,void 0,void 0,function*(){yield this.client.delete(`${this.baseURI}${e}/role/${t}`);let r=this.allItems.find(({objectId:t})=>t===e),{name:n}=this.roles.find(({objectId:e})=>e===t);r.roles=r.roles.filter(e=>e!==n)})}constructor(){super(...arguments),Object.defineProperty(this,"baseURI",{enumerable:!0,configurable:!0,writable:!0,value:(y(this,u),"/user/")}),h.set(this,y(this,c,[])),y(this,d)}},h=new WeakMap,(()=>{var e;let t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=l[Symbol.metadata])&&void 0!==e?e:null):void 0;o=[p.observable],i=[(0,b.toggle)("downloading")],a=[(0,b.toggle)("uploading")],s=[(0,b.toggle)("uploading")],v(f,null,o,{kind:"accessor",name:"roles",static:!1,private:!1,access:{has:e=>"roles"in e,get:e=>e.roles,set:(e,t)=>{e.roles=t}},metadata:t},c,d),v(f,null,i,{kind:"method",name:"getRoles",static:!1,private:!1,access:{has:e=>"getRoles"in e,get:e=>e.getRoles},metadata:t},null,u),v(f,null,a,{kind:"method",name:"addRole",static:!1,private:!1,access:{has:e=>"addRole"in e,get:e=>e.addRole},metadata:t},null,u),v(f,null,s,{kind:"method",name:"removeRole",static:!1,private:!1,access:{has:e=>"removeRole"in e,get:e=>e.removeRole},metadata:t},null,u),t&&Object.defineProperty(f,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t})})(),f)}),n("6jIBr",function(t,n){let o,i;e(t.exports,"BaseModel",function(){return p}),e(t.exports,"VerifiableModel",function(){return b});var a,s=r("2nE0J"),l=r("bvA4K"),u=r("dNQd8"),c=r("40kHK"),d=function(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0},f=function(e,t,r,n,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var s,l=n.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f=!1,h=r.length-1;h>=0;h--){var p={};for(var b in n)p[b]="access"===b?{}:n[b];for(var b in n.access)p.access[b]=n.access[b];p.addInitializer=function(e){if(f)throw TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var m=(0,r[h])("accessor"===l?{get:d.get,set:d.set}:d[u],p);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(s=a(m.get))&&(d.get=s),(s=a(m.set))&&(d.set=s),(s=a(m.init))&&o.unshift(s)}else(s=a(m))&&("field"===l?o.unshift(s):d[u]=s)}c&&Object.defineProperty(c,n.name,d),f=!0},h=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};class p extends s.ListModel{constructor(){super(...arguments),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:u.service}),Object.defineProperty(this,"indexKey",{enumerable:!0,configurable:!0,writable:!0,value:"objectId"})}loadPage(e,t,r){return h(this,void 0,void 0,function*(){let{body:{count:n,data:o}}=yield this.client.get(`${this.baseURI}?${(0,l.buildURLData)(Object.assign(Object.assign({},r),{pageIndex:e,pageSize:t}))}`);return{pageData:o,totalCount:n}})}}let b=(o=p,i=[],a=class extends o{verify(e){return h(this,void 0,void 0,function*(){yield this.client.patch(this.baseURI+e,{verified:!0}),this.changeOne({verified:!0,verifier:c.session.user},e,!0)})}constructor(){super(...arguments),d(this,i)}},(()=>{var e;let t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=o[Symbol.metadata])&&void 0!==e?e:null):void 0;f(a,null,[(0,s.toggle)("uploading")],{kind:"method",name:"verify",static:!1,private:!1,access:{has:e=>"verify"in e,get:e=>e.verify},metadata:t},null,i),t&&Object.defineProperty(a,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t})})(),a)}),n("c6z8j",function(t,n){e(t.exports,"SuppliesRequirementModel",function(){return i});var o=r("6jIBr");class i extends o.VerifiableModel{constructor(){super(...arguments),Object.defineProperty(this,"baseURI",{enumerable:!0,configurable:!0,writable:!0,value:"/supplies/requirement/"})}}}),n("2oesp",function(t,n){e(t.exports,"LogisticsModel",function(){return i});var o=r("6jIBr");class i extends o.VerifiableModel{constructor(){super(...arguments),Object.defineProperty(this,"baseURI",{enumerable:!0,configurable:!0,writable:!0,value:"/logistics/"})}}}),n("5Xvq7",function(t,n){e(t.exports,"HotelModel",function(){return i});var o=r("6jIBr");class i extends o.VerifiableModel{constructor(){super(...arguments),Object.defineProperty(this,"baseURI",{enumerable:!0,configurable:!0,writable:!0,value:"/hotel/"})}}}),n("bLFJY",function(t,n){e(t.exports,"ClinicModel",function(){return i});var o=r("6jIBr");class i extends o.VerifiableModel{constructor(){super(...arguments),Object.defineProperty(this,"baseURI",{enumerable:!0,configurable:!0,writable:!0,value:"/clinic/"})}}}),n("kgpqu",function(t,n){e(t.exports,"DonationRecipientModel",function(){return i});var o=r("6jIBr");class i extends o.VerifiableModel{constructor(){super(...arguments),Object.defineProperty(this,"baseURI",{enumerable:!0,configurable:!0,writable:!0,value:"/donation/recipient/"})}}}),n("9It5P",function(t,n){e(t.exports,"FactoryModel",function(){return i});var o=r("6jIBr");class i extends o.VerifiableModel{constructor(){super(...arguments),Object.defineProperty(this,"baseURI",{enumerable:!0,configurable:!0,writable:!0,value:"/vendor/"})}}}),n("5vDhE",function(t,n){let o,i,a,s,l,u,c,d,f,h,p,b;e(t.exports,"AreaModel",function(){return j});var m,y,v,g,_=r("N2Qqw"),w=r("2nE0J"),S=r("dNQd8"),P=function(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0},T=function(e,t,r,n,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var s,l=n.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f=!1,h=r.length-1;h>=0;h--){var p={};for(var b in n)p[b]="access"===b?{}:n[b];for(var b in n.access)p.access[b]=n.access[b];p.addInitializer=function(e){if(f)throw TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var m=(0,r[h])("accessor"===l?{get:d.get,set:d.set}:d[u],p);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(s=a(m.get))&&(d.get=s),(s=a(m.set))&&(d.set=s),(s=a(m.init))&&o.unshift(s)}else(s=a(m))&&("field"===l?o.unshift(s):d[u]=s)}c&&Object.defineProperty(c,n.name,d),f=!0},k=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},R=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},O=function(e,t,r,n,o){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!o)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r};let j=(l=w.BaseModel,u=[],c=[],d=[],f=[],h=[],p=[],b=[],m=class extends l{get provinces(){return R(this,y,"f")}set provinces(e){O(this,y,e,"f")}get cities(){return R(this,v,"f")}set cities(e){O(this,v,e,"f")}get districts(){return R(this,g,"f")}set districts(e){O(this,g,e,"f")}constructor(){super(),y.set(this,(P(this,u),P(this,c,[]))),v.set(this,(P(this,d),P(this,f,[]))),g.set(this,(P(this,h),P(this,p,[]))),P(this,b),(0,w.restore)(this,"area").then(()=>k(this,void 0,void 0,function*(){this.provinces[0]||(this.provinces=yield(0,S.getSubDistricts)())}))}getSubs(e,t){return k(this,void 0,void 0,function*(){let r=yield(0,S.getSubDistricts)(t);"city"===e?this.cities=r:this.districts=r})}},y=new WeakMap,v=new WeakMap,g=new WeakMap,(()=>{var e;let t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=l[Symbol.metadata])&&void 0!==e?e:null):void 0;o=[(0,w.persist)(),_.observable],i=[_.observable],a=[_.observable],s=[(0,w.toggle)("downloading")],T(m,null,o,{kind:"accessor",name:"provinces",static:!1,private:!1,access:{has:e=>"provinces"in e,get:e=>e.provinces,set:(e,t)=>{e.provinces=t}},metadata:t},c,d),T(m,null,i,{kind:"accessor",name:"cities",static:!1,private:!1,access:{has:e=>"cities"in e,get:e=>e.cities,set:(e,t)=>{e.cities=t}},metadata:t},f,h),T(m,null,a,{kind:"accessor",name:"districts",static:!1,private:!1,access:{has:e=>"districts"in e,get:e=>e.districts,set:(e,t)=>{e.districts=t}},metadata:t},p,b),T(m,null,s,{kind:"method",name:"getSubs",static:!1,private:!1,access:{has:e=>"getSubs"in e,get:e=>e.getSubs},metadata:t},null,u),t&&Object.defineProperty(m,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t})})(),m)});