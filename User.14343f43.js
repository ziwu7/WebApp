!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire951b,r=t.register;r("dqjeL",function(r,n){Object.defineProperty(r.exports,"__esModule",{value:!0,configurable:!0}),e(r.exports,"default",function(){return S});var o,a,i,l,s,c,u,f,d,p=t("gV4k2"),h=t("I2P72"),m=t("iEu77"),b=t("gdLkz"),v=t("7tQZq"),y=t("dMn7r"),g=t("iDlJk"),w=t("ksXWa"),x=t("9RkJG"),j=t("jcToA"),T=t("912gW"),S=(i=[(0,w.component)({tagName:"user-admin"}),w.observer],l=[],c=a=function(e){(0,b._)(r,e);var t=(0,y._)(r);function r(){var e;return(0,h._)(this,r),e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty((0,p._)(e),"filter",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty((0,p._)(e),"loadMore",{enumerable:!0,configurable:!0,writable:!0,value:function(t){if("bottom"===t)return(0,T.user).getList(e.filter)}}),Object.defineProperty((0,p._)(e),"search",{enumerable:!0,configurable:!0,writable:!0,value:function(t){t.preventDefault();var r=t.target.elements.item(0).value;return(0,T.user).getList(e.filter=r?{phone:r}:{},1)}}),Object.defineProperty((0,p._)(e),"renderItem",{enumerable:!0,configurable:!0,writable:!0,value:function(t){var r,n=t.mobilePhoneNumber,o=t.createdAt,a=t.roles,i=t.objectId;return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:n}),(0,g.jsx)("td",{children:new Date(o).toLocaleString()}),(0,g.jsx)("td",{children:null===(r=T.user.roles)||void 0===r?void 0:r.map(function(t){var r=t.objectId,n=t.name;return(0,g.jsx)(x.FormCheck,{type:"switch",label:(0,g.jsx)(g.Fragment,{children:n}),value:r,checked:a.includes(n),onClick:function(t){return e.toggleRole(i,r,t)}})})})]},i)}}),e}return(0,m._)(r,[{key:"mountedCallback",value:function(){(0,T.user).getRoles()}},{key:"toggleRole",value:function(e,t,r){return r.target.checked?(0,T.user).addRole(e,t):(0,T.user).removeRole(e,t)}},{key:"render",value:function(){var e=T.user.allItems,t=T.user.noMore;return(0,g.jsxs)(j.SessionBox,{children:[(0,g.jsxs)("header",{className:"d-flex justify-content-between",children:[(0,g.jsx)("h1",{children:"用户管理"}),(0,g.jsxs)("form",{className:"d-flex",onSubmit:this.search,children:[(0,g.jsx)(x.FormControl,{type:"search",className:"me-3",name:"phone"}),(0,g.jsx)(x.Button,{className:"text-nowrap",type:"submit",variant:"primary",children:"搜索"})]})]}),(0,g.jsxs)(x.ScrollBoundary,{onTouch:this.loadMore,children:[(0,g.jsxs)(x.Table,{className:"text-center",striped:!0,hover:!0,children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"手机号"}),(0,g.jsx)("th",{children:"注册时间"}),(0,g.jsx)("th",{children:"角色"})]})}),(0,g.jsx)("tbody",{children:e.map(this.renderItem)})]}),(0,g.jsx)("p",{slot:"bottom",className:"text-center mt-2",children:t?"没有更多数据了":"加载更多..."})]})]})}}]),r}(s=HTMLElement),u="UserAdmin","symbol"===(0,v._)(u)&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(c,"name",{configurable:!0,value:u}),d="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(f=s[Symbol.metadata])&&void 0!==f?f:null):void 0,function(e,t,r,n,o,a){function i(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var l,s=n.kind,c="getter"===s?"get":"setter"===s?"set":"value",u=t||{},f=!1,d=r.length-1;d>=0;d--){var p={};for(var h in n)p[h]="access"===h?{}:n[h];for(var h in n.access)p.access[h]=n.access[h];p.addInitializer=function(e){if(f)throw TypeError("Cannot add initializers after decoration has completed");a.push(i(e||null))};var m=(0,r[d])("accessor"===s?{get:u.get,set:u.set}:u[c],p);if("accessor"===s){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(l=i(m.get))&&(u.get=l),(l=i(m.set))&&(u.set=l),(l=i(m.init))&&null.unshift(l)}else(l=i(m))&&("field"===s?null.unshift(l):u[c]=l)}f=!0}(0,o={value:a},i,{kind:"class",name:a.name,metadata:d},null,l),a=o.value,d&&Object.defineProperty(a,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d}),function(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e)}(a,l),a)}),r("gKVDL",function(r,n){e(r.exports,"errors",function(){return l}),e(r.exports,"config",function(){return s}),e(r.exports,"fromDataTransfer",function(){return c}),e(r.exports,"getDirHandlesFromInput",function(){return f}),e(r.exports,"getFileHandlesFromInput",function(){return p});var o=t("7eVHo"),a=t("72bWt"),i=t("fkswq"),l={INVALID:["seeking position failed.","InvalidStateError"],GONE:["A requested file or directory could not be found at the time an operation was processed.","NotFoundError"],MISMATCH:["The path supplied exists, but was not an entry of requested type.","TypeMismatchError"],MOD_ERR:["The object can not be modified in this way.","InvalidModificationError"],SYNTAX:function(e){return["Failed to execute 'write' on 'UnderlyingSinkBase': Invalid params passed. ".concat(e),"SyntaxError"]},SECURITY:["It was determined that certain files are unsafe for access within a Web application, or that too many calls are being made on file resources.","SecurityError"],DISALLOWED:["The request is not allowed by the user agent or the platform in the current context.","NotAllowedError"]},s={writable:globalThis.WritableStream};function c(e){return u.apply(this,arguments)}function u(){return(u=(0,o._)(function(e){var r,n,o,l,s;return(0,i.__generator)(this,function(i){switch(i.label){case 0:return console.warn("deprecated fromDataTransfer - use `dt.items[0].getAsFileSystemHandle()` instead"),[4,Promise.all([t("lWSaf"),t("9mM6W"),t("7sfzw")])];case 1:return n=(r=(0,a._).apply(void 0,[i.sent(),3]))[0],o=r[1],l=r[2],(s=new n.FolderHandle("",!1))._entries=e.map(function(e){return e.isFile?new o.FileHandle(e,!1):new o.FolderHandle(e,!1)}),[2,new l.FileSystemDirectoryHandle(s)]}})})).apply(this,arguments)}function f(e){return d.apply(this,arguments)}function d(){return(d=(0,o._)(function(e){var r,n,o,a,l,s,c;return(0,i.__generator)(this,function(i){switch(i.label){case 0:return[4,t("lWSaf")];case 1:return n=(r=i.sent()).FolderHandle,o=r.FileHandle,[4,t("7sfzw")];case 2:return a=i.sent().FileSystemDirectoryHandle,s=(l=Array.from(e.files))[0].webkitRelativePath.split("/",1)[0],c=new n(s,!1),l.forEach(function(e){var t=e.webkitRelativePath.split("/");t.shift();var r=t.pop();t.reduce(function(e,t){return e._entries[t]||(e._entries[t]=new n(t,!1)),e._entries[t]},c)._entries[r]=new o(e.name,e,!1)}),[2,new a(c)]}})})).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=(0,o._)(function(e){var r,n;return(0,i.__generator)(this,function(o){switch(o.label){case 0:return[4,t("lWSaf")];case 1:return r=o.sent().FileHandle,[4,t("7ifET")];case 2:return n=o.sent().FileSystemFileHandle,[2,Array.from(e.files).map(function(e){return new n(new r(e.name,e,!1))})]}})})).apply(this,arguments)}}),r("lWSaf",function(e,r){e.exports=t("c3Nfi")(t("kC3Tq").resolve("ecOdP")).then(function(){return t("7MvC9")})}),r("c3Nfi",function(e,r){var n=t("9EbbF");e.exports=n(function(e){return new Promise(function(t,r){if([].concat(document.getElementsByTagName("script")).some(function(t){return t.src===e})){t();return}var n=document.createElement("link");n.href=e,n.rel="preload",n.as="script",document.head.appendChild(n);var o=document.createElement("script");o.async=!0,o.type="text/javascript",o.src=e,o.onerror=function(t){var n=TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));o.onerror=o.onload=null,o.remove(),r(n)},o.onload=function(){o.onerror=o.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(o)})})}),r("9EbbF",function(e,t){var r={},n={},o={};e.exports=function(e,t){return function(a){var i=function(e){switch(e){case"preload":return n;case"prefetch":return o;default:return r}}(t);return i[a]?i[a]:i[a]=e.apply(null,arguments).catch(function(e){throw delete i[a],e})}}}),r("kC3Tq",function(t,r){e(t.exports,"register",function(){return n},function(e){return n=e}),e(t.exports,"resolve",function(){return o},function(e){return o=e});var n,o,a=new Map;n=function(e,t){for(var r=0;r<t.length-1;r+=2)a.set(t[r],{baseUrl:e,path:t[r+1]})},o=function(e){var t=a.get(e);if(null==t)throw Error("Could not resolve bundle with id "+e);return new URL(t.path,t.baseUrl).toString()}}),r("9mM6W",function(e,r){e.exports=t("c3Nfi")(t("kC3Tq").resolve("3KEM7")).then(function(){return t("2wF3H")})}),r("7sfzw",function(e,r){e.exports=t("c3Nfi")(t("kC3Tq").resolve("9FPx2")).then(function(){return t("5yJoG")})}),r("7ifET",function(e,r){e.exports=t("c3Nfi")(t("kC3Tq").resolve("7hTL1")).then(function(){return t("42yKc")})}),r("jr756",function(t,r){e(t.exports,"default",function(){return n});var n={ReadableStream:globalThis.ReadableStream,WritableStream:globalThis.WritableStream,TransformStream:globalThis.TransformStream,DOMException:globalThis.DOMException,Blob:globalThis.Blob,File:globalThis.File}})}();